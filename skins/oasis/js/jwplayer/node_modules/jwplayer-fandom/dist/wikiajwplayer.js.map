{"version":3,"sources":["webpack:///wikiajwplayer.js","webpack:///webpack/bootstrap 3319d727240cc71d7085","webpack:///./src/scripts/icons.js","webpack:///./src/scripts/annotation/utils.js","webpack:///./src/scripts/DOMHelpers.js","webpack:///./src/scripts/annotation/Base.js","webpack:///./src/scripts/index.js","webpack:///./src/scripts/events.js","webpack:///./src/scripts/replace-icons.js","webpack:///./src/scripts/sound.js","webpack:///./src/scripts/tracking.js","webpack:///./src/scripts/tab-active.js","webpack:///./src/scripts/logger.js","webpack:///./src/scripts/settings.plugin.js","webpack:///./src/scripts/allow-control-on-touch.js","webpack:///./src/scripts/annotation/index.js","webpack:///./src/scripts/annotation/Annotations.js","webpack:///./src/scripts/annotation/Comments.js","webpack:///./src/scripts/annotation/AnnotationStream.js","webpack:///./src/locales/i18n.js","webpack:///./src/locales/de/main.json","webpack:///./src/locales/en/main.json","webpack:///./src/locales/es/main.json","webpack:///./src/locales/fr/main.json","webpack:///./src/locales/it/main.json","webpack:///./src/locales/ja/main.json","webpack:///./src/locales/pl/main.json","webpack:///./src/locales/pt/main.json","webpack:///./src/locales/ru/main.json","webpack:///./src/locales/zh/main.json","webpack:///./src/locales/zh-hans/main.json"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","default","play","pause","fullScreenOn","fullScreenOff","settings","volumeOff","volumeOn","back","quality","parser","DOMParser","stringToHtml","domString","parseFromString","body","firstChild","createToggle","params","toggleWrapper","document","createElement","toggleInput","toggleLabel","className","id","type","checked","setAttribute","appendChild","createTextNode","label","createArrowIcon","direction","arrowIcon","createSVG","_icons2","classList","add","clearListElement","element","childElementCount","removeChild","svgHtml","domParser","documentElement","showElement","style","display","hideElement","_icons","obj","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Base","_ref","item","playerInstance","this","displayAt","displayed","Error","_this","remove","setTimeout","_interopRequireDefault","_events","_events2","_replaceIcons","_replaceIcons2","_sound","_sound2","_tracking","_tracking2","_tabActive","_tabActive2","_logger","_logger2","_settings","_settings2","_allowControlOnTouch","_allowControlOnTouch2","_index","_index2","_i18n","_i18n2","loadCallbacks","window","wikiaJWPlayer","elementId","options","callback","createScriptTag","playerURL","script","playerElement","getElementById","onload","register","forEach","async","src","parentNode","insertBefore","nextSibling","setupPlayer","logger","jwplayer","videoId","videoDetails","playlist","mediaid","willAutoplay","autoplay","lang","langForAds","substr","i18n","playerSetup","advertising","autoplayadsmuted","client","vpaidcontrols","admessage","cuetext","skipmessage","skiptext","setLocale","autostart","hidden","description","image","mute","title","localization","plugins","wikiaSettings","showAutoplayToggle","showQuality","showCaptions","selectedCaptionsLanguage","related","autoplaytimer","time","file","playlistId","oncomplete","autoplaymessage","nextUpInSeconds","info","setup","subscribeToPlayerErrors","push","tracking","pixel","annotations","comments","spoilers","wikiaJWPlayerEvents","getDefaultState","wasFirstQuartileTriggered","wasMidPointTriggered","wasThirdQuartileTriggered","progress","durationWatched","percentWatched","handleTime","prefix","data","positionFloor","Math","floor","position","percentPlayed","duration","state","trigger","ad","video","wasAlreadyUnmuted","depth","prefixes","isPlayerPaused","once","relatedPlugin","getPlugin","on","auto","getMute","wikiaJWPlayerReplaceIcons","replaceJWIconWithCustom","icon","iconHtml","newIcon","_DOMHelpers","getAttribute","replaceChild","replaceIcons","videoPlayerElement","controlBar","querySelector","displayControls","controlBarIcons","selector","iconName","displayControlsIcons","iconData","getContainer","wikiaJWPlayerRelatedVideoSound","setMute","wikiaJWPlayerTracking","tracker","updateVideoCustomDimensions","currentVideo","setCustomDimension","tags","addTrackingPixel","url","mountedPixel","img","parentElement","trackComscoreVideoMetrix","comscore","trackCustomPixel","pixelURL","track","gaData","trackingData","action","category","gaCategory","Number","eventName","getPlaylistItem","player","trackingMethod","enabled","selectedLang","toLowerCase","wikiaJWPlayerHandleTabNotActive","canPlayVideo","indexOf","getState","pausedOnRelated","addEventListener","wikiaJWPlayerLogger","logErrorToService","request","XMLHttpRequest","JSON","stringify","clientName","open","loggerUrl","setRequestHeader","send","logLevel","logLevels","console","warn","error","err","servicesDomain","off","loggerOptions","wikiaJWPlayerSettingsPlugin","config","div","container","wikiaSettingsElement","buttonID","documentClickHandler","bind","addSettingsContent","onQualityLevelsChange","onCaptionsChange","isSettingsMenuOrSettingsButton","button","getSettingsButtonElement","contains","event","close","addButton","settingsIcon","outerHTML","removeButton","showSettingsList","hide","show","settingsList","qualityLevelsList","captionsList","createSettingsListElement","createQualityLevelsList","createCaptionsList","createQualityButton","createCaptionsButton","createAutoplayToggle","createSubmenuWrapper","backElement","submenuWrapper","innerHTML","autoplayToggle","autoplayVideos","previousSibling","qualityElement","videoQuality","updateCurrentQuality","isQualityListEmpty","levels","shouldShowSettingsButton","updateQualityLevelsList","newLevels","level","index","qualityLevelItem","setCurrentQuality","getCurrentQuality","lastElementChild","childNodes","node","currentQuality","suitableCaptionsTrack","getSuitableCaptionsIndex","captionLangMap","getUserLang","tracks","createCaptionsListItem","setCurrentCaptions","updateCurrentCaptions","captionItem","normalizedLabel","dataset","firstElementChild","captionsButton","captions","navigator","userLanguage","language","slice","userLang","captionTracks","map","en","pl","fr","de","it","ja","pt","ru","es","zh","registerPlugin","wikiaJWPlayerAllowControllOnTouchDevices","unmuteIcon","wikiaJWPlayerAnnotation","arguments","undefined","_AnnotationStream2","amount","annotationMock","el","_Annotations2","commentMock","_Comments2","_Annotations","_Comments","_AnnotationStream","text","createdBy","username","avatarUrl","linksTo","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_Base2","_Base3","_utils","Annotation","_Base","getPrototypeOf","apply","Comment","_toConsumableArray","arr","Array","isArray","arr2","from","AnnotationStream","list","currentlyVisibleAnnotations","wrapper","createWrapper","assign","delay","attachListeners","nextAnnotation","findLastSuitableElement","includes","manageElements","attachWrapper","items","concat","sort","a","b","available","filter","annotation","isDisplayed","prepend","removeWithDelay","_this2","first","shift","_main","_main2","_main3","_main4","_main5","_main6","_main7","_main8","_main9","_main10","_main11","_main12","_main13","_main14","_main15","_main16","_main17","_main18","_main19","_main20","_main21","_main22","zh-hans","fullscreen","next","nextUp","playback","prev","replay","volume"],"mappings":"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","file":"wikiajwplayer.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = {\n\t// wds-icons-play-triangle-small.svg\n\tplay: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.767 9.437L3.858 16.903a.553.553 0 0 1-.565.037.531.531 0 0 1-.293-.473V1.533c0-.199.113-.381.293-.473a.557.557 0 0 1 .565.036l10.91 7.467A.53.53 0 0 1 15 9a.53.53 0 0 1-.233.437z\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-pause-small.svg\n\tpause: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><g fill-rule=\"evenodd\"><rect width=\"5\" height=\"16\" rx=\"1\" x=\"2\" y=\"1\"/><rect x=\"11\" width=\"5\" height=\"16\" rx=\"1\" y=\"1\"/></g></svg>',\n\t// wds-icons-fullscreen-small.svg\n\tfullScreenOn: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.249 7H1V2h5v2.25H3.249zm11.502 0H17V2h-5v2.25h2.751zM3.249 11H1v5h5v-2.25H3.249zm11.502 0H17v5h-5v-2.25h2.751z\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-fullscreen-off-small.svg\n\tfullScreenOff: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.751 2H6v5H1V4.75h2.751zm10.498 0H12v5h5V4.75h-2.751zM3.751 16H6v-5H1v2.25h2.751zm10.498 0H12v-5h5v2.25h-2.751z\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-gear-small.svg\n\tsettings: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9 7.09a1.909 1.909 0 1 1 0 3.819A1.909 1.909 0 0 1 9 7.09m-4.702-.03a1.07 1.07 0 0 1-.99.667h-.672A.637.637 0 0 0 2 8.364v1.272c0 .352.285.637.636.637h.672c.436 0 .824.264.99.667l.006.013c.167.403.08.864-.229 1.172L3.6 12.6a.636.636 0 0 0 0 .9l.9.9a.636.636 0 0 0 .9 0l.475-.475a1.072 1.072 0 0 1 1.185-.223c.403.166.667.554.667.99v.672c0 .35.285.636.637.636h1.272a.637.637 0 0 0 .637-.636v-.672c0-.436.264-.824.667-.99l.013-.006a1.07 1.07 0 0 1 1.172.229l.475.475a.636.636 0 0 0 .9 0l.9-.9a.636.636 0 0 0 0-.9l-.475-.475a1.072 1.072 0 0 1-.229-1.172l.006-.013a1.07 1.07 0 0 1 .99-.667h.672A.637.637 0 0 0 16 9.636V8.364a.637.637 0 0 0-.636-.637h-.672a1.07 1.07 0 0 1-.996-.68 1.072 1.072 0 0 1 .229-1.172L14.4 5.4a.636.636 0 0 0 0-.9l-.9-.9a.636.636 0 0 0-.9 0l-.475.475c-.308.308-.77.396-1.172.229l-.013-.006a1.07 1.07 0 0 1-.667-.99v-.672A.637.637 0 0 0 9.636 2H8.364a.637.637 0 0 0-.637.636v.672a1.07 1.07 0 0 1-.68.996 1.07 1.07 0 0 1-1.172-.229L5.4 3.6a.636.636 0 0 0-.9 0l-.9.9a.636.636 0 0 0 0 .9l.475.475a1.072 1.072 0 0 1 .223 1.185\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-volume-off-small.svg\n\tvolumeOff: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.45 2.17L4.664 6.28H1.036C.256 6.28 0 6.739 0 7.175v3.522c0 .436.256.985 1.036.985h3.646l3.785 4.176a1.1 1.1 0 0 0 .533.143.964.964 0 0 0 .5-.137c.33-.185.5-.526.5-.897V3.013c0-.37-.17-.713-.5-.898-.33-.186-.72-.13-1.05.054zm7.192 7.33l2.121-2.122a.807.807 0 1 0-1.142-1.141l-2.122 2.12-2.12-2.12a.808.808 0 0 0-1.142 1.141L13.358 9.5l-2.121 2.121a.807.807 0 1 0 1.142 1.142l2.12-2.12 2.122 2.12a.805.805 0 0 0 1.142 0 .807.807 0 0 0 0-1.142L15.642 9.5z\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-volume-small.svg\n\tvolumeOn: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><g fill-rule=\"evenodd\"><path d=\"M8.45 2.17L4.664 6.28H1.036C.256 6.28 0 6.739 0 7.175v3.522c0 .436.256.985 1.036.985h3.646l3.785 4.176a1.1 1.1 0 0 0 .533.143.964.964 0 0 0 .5-.137c.33-.185.5-.526.5-.897V3.013c0-.37-.17-.713-.5-.898-.33-.186-.72-.13-1.05.054zm4.95 10.156a4.393 4.393 0 0 0 0-6.19.708.708 0 0 0-1.004 1 2.978 2.978 0 0 1 0 4.192.707.707 0 1 0 1.003.998z\"/><path d=\"M17.515 9.231A6.186 6.186 0 0 0 15.7 4.84a.707.707 0 1 0-1.003.998A4.777 4.777 0 0 1 16.1 9.231a4.778 4.778 0 0 1-1.4 3.394.708.708 0 1 0 1.002.999 6.186 6.186 0 0 0 1.814-4.393z\"/></g></svg>',\n\t// wds-menu-control-tiny.svg\n\tback: '<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.003 10.002a.997.997 0 0 1-.707-.293L.293 4.707a.999.999 0 1 1 1.414-1.414l4.296 4.295 4.293-4.293A.999.999 0 1 1 11.71 4.71l-5 5a.997.997 0 0 1-.707.293\" fill-rule=\"evenodd\"/></svg>',\n\t// jwplayer icon\n\tquality: '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"jw-svg-icon jw-svg-icon-quality-100\" viewBox=\"0 0 240 240\"><path d=\"M55,200H35c-3,0-5-2-5-4c0,0,0,0,0-1v-30c0-3,2-5,4-5c0,0,0,0,1,0h20c3,0,5,2,5,4c0,0,0,0,0,1v30C60,198,58,200,55,200L55,200z M110,195v-70c0-3-2-5-4-5c0,0,0,0-1,0H85c-3,0-5,2-5,4c0,0,0,0,0,1v70c0,3,2,5,4,5c0,0,0,0,1,0h20C108,200,110,198,110,195L110,195z M160,195V85c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v110c0,3,2,5,4,5c0,0,0,0,1,0h20C158,200,160,198,160,195L160,195z M210,195V45c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v150c0,3,2,5,4,5c0,0,0,0,1,0h20C208,200,210,198,210,195L210,195z\"></path></svg>'\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar parser = new DOMParser();\n\nvar stringToHtml = exports.stringToHtml = function stringToHtml(domString) {\n\tvar html = parser.parseFromString(domString, 'text/html');\n\n\treturn html.body.firstChild;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.createToggle = createToggle;\nexports.createArrowIcon = createArrowIcon;\nexports.clearListElement = clearListElement;\nexports.createSVG = createSVG;\nexports.showElement = showElement;\nexports.hideElement = hideElement;\n\nvar _icons = __webpack_require__(0);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar domParser = new DOMParser();\n\nfunction createToggle(params) {\n\tvar toggleWrapper = document.createElement('li'),\n\t    toggleInput = document.createElement('input'),\n\t    toggleLabel = document.createElement('label');\n\n\ttoggleWrapper.className = 'wikia-jw-settings__toggle';\n\n\ttoggleInput.className = 'wds-toggle__input';\n\ttoggleInput.id = params.id;\n\ttoggleInput.type = 'checkbox';\n\ttoggleInput.checked = params.checked;\n\n\ttoggleLabel.className = 'wds-toggle__label';\n\ttoggleLabel.setAttribute('for', params.id);\n\n\ttoggleLabel.appendChild(document.createTextNode(params.label));\n\n\ttoggleWrapper.appendChild(toggleInput);\n\ttoggleWrapper.appendChild(toggleLabel);\n\n\treturn toggleWrapper;\n}\n\n/**\n * Available directions:\n * - left\n * - right\n *\n * @param {String} direction\n * @returns {HTMLElement}\n */\nfunction createArrowIcon(direction) {\n\tvar arrowIcon = createSVG(_icons2.default.back);\n\n\tif (direction === 'left') {\n\t\tarrowIcon.classList.add('wikia-jw-settings__back-icon');\n\t} else {\n\t\tarrowIcon.classList.add('wikia-jw-settings__right-arrow-icon');\n\t}\n\n\treturn arrowIcon;\n}\n\nfunction clearListElement(element) {\n\tif (element) {\n\t\twhile (element.childElementCount > 1) {\n\t\t\telement.removeChild(element.firstChild);\n\t\t}\n\t}\n}\n\nfunction createSVG(svgHtml) {\n\treturn domParser.parseFromString(svgHtml, 'image/svg+xml').documentElement;\n}\n\nfunction showElement(element) {\n\tif (element) {\n\t\telement.style.display = 'block';\n\t}\n}\n\nfunction hideElement(element) {\n\tif (element) {\n\t\telement.style.display = 'none';\n\t}\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Base = function () {\n\tfunction Base(_ref) {\n\t\tvar item = _ref.item,\n\t\t    playerInstance = _ref.playerInstance;\n\n\t\t_classCallCheck(this, Base);\n\n\t\tthis.element = this.createElement(item);\n\t\tthis.playerInstance = playerInstance;\n\t\tthis.displayAt = item.displayAt;\n\t\tthis.displayed = false;\n\t}\n\n\t_createClass(Base, [{\n\t\tkey: 'createElement',\n\t\tvalue: function createElement() {\n\t\t\tthrow new Error('METHOD NOT IMPLEMENTED!');\n\t\t}\n\t}, {\n\t\tkey: 'hide',\n\t\tvalue: function hide() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.element.classList.remove('enter');\n\t\t\tthis.element.classList.add('exit');\n\n\t\t\tsetTimeout(function () {\n\t\t\t\treturn _this.remove();\n\t\t\t}, 500);\n\t\t}\n\t}, {\n\t\tkey: 'show',\n\t\tvalue: function show() {\n\t\t\tthis.element.classList.remove('exit');\n\t\t\tthis.element.classList.add('enter');\n\t\t\tthis.displayed = true;\n\t\t}\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tif (this.element) {\n\t\t\t\tthis.element.remove();\n\n\t\t\t\tthis.element = null;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'isDisplayed',\n\t\tvalue: function isDisplayed() {\n\t\t\treturn this.displayed;\n\t\t}\n\t}]);\n\n\treturn Base;\n}();\n\nexports.default = Base;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(5);\nmodule.exports = __webpack_require__(30);\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _events = __webpack_require__(6);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _replaceIcons = __webpack_require__(7);\n\nvar _replaceIcons2 = _interopRequireDefault(_replaceIcons);\n\nvar _sound = __webpack_require__(8);\n\nvar _sound2 = _interopRequireDefault(_sound);\n\nvar _tracking = __webpack_require__(9);\n\nvar _tracking2 = _interopRequireDefault(_tracking);\n\nvar _tabActive = __webpack_require__(10);\n\nvar _tabActive2 = _interopRequireDefault(_tabActive);\n\nvar _logger = __webpack_require__(11);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _settings = __webpack_require__(12);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _allowControlOnTouch = __webpack_require__(13);\n\nvar _allowControlOnTouch2 = _interopRequireDefault(_allowControlOnTouch);\n\nvar _index = __webpack_require__(14);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _i18n = __webpack_require__(18);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar loadCallbacks = [];\n\nwindow.wikiaJWPlayer = function (elementId, options, callback) {\n\n\t/**\n  * adds script tag\n  * @param elementId\n  * @param playerURL\n  */\n\tfunction createScriptTag(elementId, playerURL) {\n\t\tvar script = document.createElement('script'),\n\t\t    playerElement = document.getElementById(elementId);\n\n\t\tscript.onload = function () {\n\t\t\t_settings2.default.register();\n\t\t\tloadCallbacks.forEach(function (callback) {\n\t\t\t\tcallback();\n\t\t\t});\n\t\t};\n\t\tscript.async = true;\n\t\tscript.src = playerURL || 'https://content.jwplatform.com/libraries/VXc5h4Tf.js';\n\t\t// insert script node just after player element\n\t\tplayerElement.parentNode.insertBefore(script, playerElement.nextSibling);\n\t}\n\n\t/**\n  * loads jwplayer library\n  * @param elementId\n  * @param playerURL\n  * @param callback\n  */\n\tfunction loadJWPlayerScript(elementId, playerURL, callback) {\n\t\tif (typeof jwplayer !== 'undefined') {\n\t\t\tcallback();\n\t\t} else {\n\t\t\tloadCallbacks.push(callback);\n\n\t\t\t// we don't want to load multiple jwplayer libraries\n\t\t\tif (loadCallbacks.length === 1) {\n\t\t\t\tcreateScriptTag(elementId, playerURL);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * setups player\n  * @param elementId\n  * @param options\n  * @param logger\n  * @return {*}\n  */\n\tfunction setupPlayer(elementId, options, logger) {\n\t\tvar playerInstance = jwplayer(elementId),\n\t\t    videoId = options.videoDetails.playlist[0].mediaid,\n\t\t    willAutoplay = options.autoplay,\n\t\t    lang = options.lang || 'en',\n\n\t\t// IMA supports two-letter ISO 639-1 code\n\t\tlangForAds = lang.substr(0, 2),\n\t\t    i18n = _i18n2.default[lang] || _i18n2.default['en'],\n\t\t    playerSetup = {\n\t\t\tadvertising: {\n\t\t\t\tautoplayadsmuted: willAutoplay,\n\t\t\t\tclient: 'googima',\n\t\t\t\tvpaidcontrols: true,\n\t\t\t\tadmessage: i18n.admessage,\n\t\t\t\tcuetext: i18n.cuetext,\n\t\t\t\tskipmessage: i18n.skipmessage,\n\t\t\t\tskiptext: i18n.skiptext,\n\t\t\t\tsetLocale: langForAds\n\t\t\t},\n\t\t\tautostart: willAutoplay && !document.hidden,\n\t\t\tdescription: options.videoDetails.description,\n\t\t\timage: '//content.jwplatform.com/thumbs/' + videoId + '-640.jpg',\n\t\t\tmute: options.mute,\n\t\t\tplaylist: options.videoDetails.playlist,\n\t\t\ttitle: options.videoDetails.title,\n\t\t\tlocalization: i18n\n\t\t};\n\n\t\tif (options.settings) {\n\t\t\tplayerSetup.plugins = {\n\t\t\t\twikiaSettings: {\n\t\t\t\t\tshowAutoplayToggle: options.settings.showAutoplayToggle,\n\t\t\t\t\tshowQuality: options.settings.showQuality,\n\t\t\t\t\tshowCaptions: options.settings.showCaptions,\n\t\t\t\t\tautoplay: options.autoplay,\n\t\t\t\t\tselectedCaptionsLanguage: options.selectedCaptionsLanguage,\n\t\t\t\t\ti18n: i18n\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (options.related) {\n\t\t\tplayerSetup.related = {\n\t\t\t\tautoplaytimer: options.related.time || 3,\n\t\t\t\tfile: '//cdn.jwplayer.com/v2/playlists/' + options.related.playlistId + '?related_media_id=' + videoId,\n\t\t\t\toncomplete: options.related.autoplay ? 'autoplay' : 'show',\n\t\t\t\tautoplaymessage: i18n.nextUpInSeconds\n\t\t\t};\n\t\t}\n\n\t\tlogger.info('setupPlayer');\n\t\tplayerInstance.setup(playerSetup);\n\t\tlogger.info('after setup');\n\t\tlogger.subscribeToPlayerErrors(playerInstance);\n\n\t\treturn playerInstance;\n\t}\n\n\tloadJWPlayerScript(elementId, options.playerURL, function () {\n\t\tvar logger = (0, _logger2.default)(options),\n\t\t    playerInstance = setupPlayer(elementId, options, logger);\n\n\t\t(0, _replaceIcons2.default)(playerInstance);\n\t\t(0, _events2.default)(playerInstance, options.autoplay, logger);\n\n\t\tif (options.related) {\n\t\t\t(0, _sound2.default)(playerInstance);\n\t\t}\n\n\t\tif (options.tracking) {\n\t\t\toptions.tracking.pixel = options.videoDetails.playlist[0].pixel;\n\t\t\t(0, _tracking2.default)(playerInstance, options.autoplay, options.tracking);\n\t\t}\n\n\t\t(0, _tabActive2.default)(playerInstance, options.autoplay);\n\n\t\t(0, _allowControlOnTouch2.default)(playerInstance);\n\n\t\tif (callback) {\n\t\t\tcallback(playerInstance);\n\t\t}\n\n\t\t(0, _index2.default)(playerInstance, {\n\t\t\tannotations: options.annotations,\n\t\t\tcomments: options.comments,\n\t\t\tspoilers: options.spoilers\n\t\t});\n\t});\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerEvents;\nfunction wikiaJWPlayerEvents(playerInstance, willAutoplay, logger) {\n\tvar state = getNewState(),\n\t    wasAlreadyUnmuted = false,\n\t    depth = 0,\n\t    prefixes = {\n\t\tad: 'ad',\n\t\tvideo: 'video'\n\t},\n\t    isPlayerPaused = false;\n\n\t/**\n  * returns default state for video/ad\n  * @return {{wasFirstQuartileTriggered: boolean, wasMidPointTriggered: boolean, wasThirdQuartileTriggered: boolean, progress: {durationWatched: number, percentWatched: number}}}\n  */\n\tfunction getDefaultState() {\n\t\treturn {\n\t\t\twasFirstQuartileTriggered: false,\n\t\t\twasMidPointTriggered: false,\n\t\t\twasThirdQuartileTriggered: false,\n\t\t\tprogress: {\n\t\t\t\tdurationWatched: 0,\n\t\t\t\tpercentWatched: 0\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n  * retruns new state for ad and video\n  * @return {{ad: {wasFirstQuartileTriggered: boolean, wasMidPointTriggered: boolean, wasThirdQuartileTriggered: boolean, progress: {durationWatched: number, percentWatched: number}}, video: {wasFirstQuartileTriggered: boolean, wasMidPointTriggered: boolean, wasThirdQuartileTriggered: boolean, progress: {durationWatched: number, percentWatched: number}}}}\n  */\n\tfunction getNewState() {\n\t\treturn {\n\t\t\tad: getDefaultState(),\n\t\t\tvideo: getDefaultState()\n\t\t};\n\t}\n\n\t/**\n  * triggers video/ad time-based events\n  * @param prefix\n  * @param data\n  */\n\tfunction handleTime(prefix, data) {\n\t\tvar positionFloor = Math.floor(data.position),\n\t\t    percentPlayed = Math.floor(positionFloor * 100 / data.duration);\n\n\t\tif (positionFloor > state[prefix].progress.durationWatched && positionFloor % 5 === 0) {\n\t\t\tplayerInstance.trigger(prefix + 'SecondsPlayed', { value: positionFloor });\n\n\t\t\tstate[prefix].progress.durationWatched = positionFloor;\n\t\t}\n\n\t\tif (percentPlayed >= 25 && !state[prefix].wasFirstQuartileTriggered) {\n\t\t\tplayerInstance.trigger(prefix + 'FirstQuartile');\n\t\t\tstate[prefix].wasFirstQuartileTriggered = true;\n\t\t}\n\n\t\tif (percentPlayed >= 50 && !state[prefix].wasMidPointTriggered) {\n\t\t\tplayerInstance.trigger(prefix + 'MidPoint');\n\t\t\tstate[prefix].wasMidPointTriggered = true;\n\t\t}\n\n\t\tif (percentPlayed >= 75 && !state[prefix].wasThirdQuartileTriggered) {\n\t\t\tplayerInstance.trigger(prefix + 'ThirdQuartile');\n\t\t\tstate[prefix].wasThirdQuartileTriggered = true;\n\t\t}\n\n\t\tif (percentPlayed > state[prefix].progress.percentWatched && percentPlayed % 10 === 0) {\n\t\t\tplayerInstance.trigger(prefix + 'PercentPlayed', { value: percentPlayed });\n\n\t\t\tstate[prefix].progress.percentWatched = percentPlayed;\n\t\t}\n\t}\n\n\tlogger.info('before ready');\n\tplayerInstance.once('ready', function () {\n\t\tlogger.info('player ready');\n\t\tvar relatedPlugin = playerInstance.getPlugin('related');\n\n\t\trelatedPlugin.on('open', function () {\n\t\t\tlogger.info('related plugin open');\n\t\t\tplayerInstance.trigger('relatedVideoImpression');\n\t\t\tstate[prefixes.video] = getDefaultState();\n\t\t});\n\n\t\trelatedPlugin.on('play', function (data) {\n\t\t\tlogger.info('related plugin play');\n\t\t\tdepth++;\n\n\t\t\tplayerInstance.trigger('relatedVideoPlay', {\n\t\t\t\tauto: data.auto,\n\t\t\t\titem: data.item,\n\t\t\t\tposition: data.position,\n\t\t\t\tdepth: depth\n\t\t\t});\n\t\t});\n\t});\n\n\tplayerInstance.on('play', function (data) {\n\t\tif (isPlayerPaused) {\n\t\t\tplayerInstance.trigger('videoResumed');\n\t\t\tlogger.info('videoResumed triggered');\n\t\t}\n\n\t\tisPlayerPaused = false;\n\t});\n\n\tplayerInstance.on('pause', function () {\n\t\tisPlayerPaused = true;\n\t});\n\n\tplayerInstance.on('firstFrame', function () {\n\t\tif (depth === 0) {\n\t\t\tplayerInstance.trigger('playerStart', { auto: willAutoplay });\n\t\t\tlogger.info('playerStart triggered');\n\t\t}\n\n\t\tplayerInstance.trigger('videoStart');\n\t\tlogger.info('videoStart triggered');\n\t});\n\n\tplayerInstance.on('mute', function () {\n\t\tif (!playerInstance.getMute() && !wasAlreadyUnmuted) {\n\t\t\tplayerInstance.trigger('firstUnmute');\n\t\t\twasAlreadyUnmuted = true;\n\t\t}\n\t});\n\n\tplayerInstance.on('time', function (data) {\n\t\thandleTime(prefixes.video, data);\n\t});\n\n\tplayerInstance.on('adTime', function (data) {\n\t\thandleTime(prefixes.ad, data);\n\t});\n\n\tplayerInstance.on('adRequest', function () {\n\t\tstate[prefixes.ad] = getDefaultState();\n\t});\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerReplaceIcons;\n\nvar _icons = __webpack_require__(0);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _DOMHelpers = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction wikiaJWPlayerReplaceIcons(playerInstance) {\n\t/**\n  * Replaces inner markup of JW SVG's with SVG from Design System\n  * We cannot override the whole SVG as this makes the player misbehave\n  * (e.g.) show fullscreen icon twice, next to each other\n  *\n  * @param {HTMLElement} icon\n  * @param {string} iconHtml\n  */\n\tfunction replaceJWIconWithCustom(icon, iconHtml) {\n\t\t// some icons are not present on smaller devices\n\t\tif (icon) {\n\t\t\tvar newIcon = (0, _DOMHelpers.createSVG)(iconHtml);\n\n\t\t\tnewIcon.setAttribute('class', icon.getAttribute('class'));\n\t\t\ticon.parentNode.replaceChild(newIcon, icon);\n\t\t}\n\t}\n\n\t/**\n  * @param {HTMLElement} videoPlayerElement\n  */\n\tfunction replaceIcons(videoPlayerElement) {\n\t\tvar controlBar = videoPlayerElement.querySelector('.jw-controlbar'),\n\t\t    displayControls = videoPlayerElement.querySelector('.jw-display'),\n\t\t    controlBarIcons = [{ selector: '.jw-svg-icon-play', iconName: 'play' }, { selector: '.jw-svg-icon-pause', iconName: 'pause' }, { selector: '.jw-svg-icon-fullscreen-on', iconName: 'fullScreenOn' }, { selector: '.jw-svg-icon-fullscreen-off', iconName: 'fullScreenOff' }, { selector: '.jw-svg-icon-settings', iconName: 'settings' }, { selector: '.jw-svg-icon-volume-0', iconName: 'volumeOff' }, { selector: '.jw-svg-icon-volume-50', iconName: 'volumeOn' }, { selector: '.jw-svg-icon-volume-100', iconName: 'volumeOn' }],\n\t\t    displayControlsIcons = [{ selector: '.jw-svg-icon-play', iconName: 'play' }, { selector: '.jw-svg-icon-pause', iconName: 'pause' }];\n\n\t\tcontrolBarIcons.forEach(function (iconData) {\n\t\t\treplaceJWIconWithCustom(controlBar.querySelector(iconData.selector), _icons2.default[iconData.iconName]);\n\t\t});\n\n\t\tdisplayControlsIcons.forEach(function (iconData) {\n\t\t\treplaceJWIconWithCustom(displayControls.querySelector(iconData.selector), _icons2.default[iconData.iconName]);\n\t\t});\n\t}\n\n\tplayerInstance.on('ready', function () {\n\t\treplaceIcons(playerInstance.getContainer());\n\t});\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerRelatedVideoSound;\nfunction wikiaJWPlayerRelatedVideoSound(playerInstance) {\n\t// Unmutes the sound if related video was played by the user interaction, not autoplayed\n\tplayerInstance.on('relatedVideoPlay', function (data) {\n\t\tif (!data.auto) {\n\t\t\tplayerInstance.setMute(false);\n\t\t}\n\t});\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerTracking;\nfunction wikiaJWPlayerTracking(playerInstance, willAutoplay, tracker) {\n\t//This will replace 'trackingevent' in internal tracker url path\n\tvar eventName = 'videoplayerevent',\n\t    gaCategory = tracker.category || 'featured-video';\n\n\tfunction updateVideoCustomDimensions(currentVideo) {\n\t\tif (typeof tracker.setCustomDimension !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\ttracker.setCustomDimension(34, currentVideo.mediaid);\n\t\ttracker.setCustomDimension(35, currentVideo.title);\n\t\ttracker.setCustomDimension(36, currentVideo.tags);\n\t}\n\n\tfunction addTrackingPixel(id, url) {\n\t\tvar mountedPixel = document.getElementById(id),\n\t\t    img = document.createElement('img');\n\n\t\tif (mountedPixel) {\n\t\t\tmountedPixel.parentElement.removeChild(mountedPixel);\n\t\t}\n\n\t\timg.src = url;\n\t\timg.id = id;\n\n\t\tdocument.body.appendChild(img);\n\t}\n\n\t/**\n  * Comscore Video Metrix tracking, sends tracking request with 3 Comscore parameters:\n  * C1 (identifier of content) = 1\n  * C2 (client ID) = 6177433 for Fandom\n  * C5 (video type identifier) = 04 for featured videos\n  * We need to track it at each video playback\n  */\n\tfunction trackComscoreVideoMetrix() {\n\t\tif (!tracker.comscore) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar pixelID = 'comscoreVideoMetrixTrack',\n\t\t    url = 'http://b.scorecardresearch.com/p?C1=1&C2=6177433&C5=04';\n\n\t\taddTrackingPixel(pixelID, url);\n\t}\n\n\t/**\n  * adds custom tracking pixel if specified\n  */\n\tfunction trackCustomPixel(pixelURL) {\n\t\tif (pixelURL) {\n\t\t\taddTrackingPixel('wikiaJWPlayerCustomPixel', pixelURL);\n\t\t}\n\t}\n\n\tfunction track(gaData) {\n\t\tif (!gaData.label) {\n\t\t\tthrow new Error('No tracking label provided');\n\t\t}\n\n\t\tvar trackingData = {\n\t\t\taction: gaData.action || 'click',\n\t\t\tcategory: gaCategory,\n\t\t\tlabel: gaData.label,\n\t\t\t//value tracks sound state: 1 for muted, 0 for unmuted\n\t\t\tvalue: Number(playerInstance.getMute()),\n\n\t\t\t// Internal tracking data\n\t\t\teventName: eventName,\n\t\t\tvideoId: playerInstance.getPlaylistItem().mediaid,\n\t\t\tplayer: 'jwplayer',\n\t\t\ttrackingMethod: 'analytics'\n\t\t};\n\n\t\t// Will be replaced by connecting Internal + GA trackers\n\t\ttracker.track(trackingData);\n\t}\n\n\tif (typeof tracker.setCustomDimension === 'function') {\n\t\ttracker.setCustomDimension(37, willAutoplay ? 'Yes' : 'No');\n\t}\n\n\tplayerInstance.once('ready', function () {\n\t\tupdateVideoCustomDimensions(playerInstance.getPlaylistItem());\n\n\t\ttrack({\n\t\t\tlabel: 'load',\n\t\t\taction: 'impression'\n\t\t});\n\t});\n\n\tplayerInstance.on('relatedVideoImpression', function () {\n\t\ttrack({\n\t\t\tlabel: 'recommended-video',\n\t\t\taction: 'impression'\n\t\t});\n\t});\n\n\tplayerInstance.on('relatedVideoPlay', function (data) {\n\t\tupdateVideoCustomDimensions(data.item);\n\n\t\tvar labelPrefix = data.auto ? 'recommended-video-autoplay-' : 'recommended-video-select-';\n\n\t\ttrack({\n\t\t\tlabel: labelPrefix + data.position,\n\t\t\taction: 'impression'\n\t\t});\n\n\t\ttrack({\n\t\t\tlabel: 'recommended-video-depth-' + data.depth,\n\t\t\taction: 'impression'\n\t\t});\n\n\t\ttrackComscoreVideoMetrix();\n\t\ttrackCustomPixel(data.item.pixel);\n\t});\n\n\tplayerInstance.on('videoResumed', function () {\n\t\ttrack({\n\t\t\tlabel: 'play-resumed'\n\t\t});\n\t});\n\n\tplayerInstance.on('playerStart', function (data) {\n\t\tvar gaData = data.auto ? { label: 'autoplay-start', action: 'impression' } : { label: 'user-start' };\n\n\t\ttrack(gaData);\n\n\t\ttrackComscoreVideoMetrix();\n\t\ttrackCustomPixel(tracker.pixel);\n\t});\n\n\tplayerInstance.on('pause', function () {\n\t\ttrack({\n\t\t\tlabel: 'paused'\n\t\t});\n\t});\n\n\tplayerInstance.on('firstUnmute', function () {\n\t\ttrack({\n\t\t\tlabel: 'unmuted'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoPercentPlayed', function (data) {\n\t\ttrack({\n\t\t\tlabel: 'played-percentage-' + data.value,\n\t\t\taction: 'view'\n\t\t});\n\t});\n\n\tplayerInstance.on('complete', function () {\n\t\ttrack({\n\t\t\tlabel: 'completed',\n\t\t\taction: 'impression'\n\t\t});\n\t});\n\n\tplayerInstance.on('onScrollClosed', function () {\n\t\ttrack({\n\t\t\tlabel: 'collapsed',\n\t\t\taction: 'close'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoFeedbackImpression', function () {\n\t\ttrack({\n\t\t\tlabel: 'feedback',\n\t\t\taction: 'impression'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoFeedbackThumbUp', function () {\n\t\ttrack({\n\t\t\tlabel: 'feedback-thumb-up',\n\t\t\taction: 'click'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoFeedbackThumbDown', function () {\n\t\ttrack({\n\t\t\tlabel: 'feedback-thumb-down',\n\t\t\taction: 'click'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoFeedbackClosed', function () {\n\t\ttrack({\n\t\t\tlabel: 'feedback',\n\t\t\taction: 'close'\n\t\t});\n\t});\n\n\tplayerInstance.on('autoplayToggle', function (data) {\n\t\ttrack({\n\t\t\tlabel: 'autoplay-' + (data.enabled ? 'enabled' : 'disabled')\n\t\t});\n\t});\n\n\tplayerInstance.on('captionsSelected', function (data) {\n\t\ttrack({\n\t\t\tlabel: 'language-selected-' + data.selectedLang.toLowerCase()\n\t\t});\n\t});\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerHandleTabNotActive;\nfunction wikiaJWPlayerHandleTabNotActive(playerInstance, willAutoplay) {\n\tfunction canPlayVideo(willAutoplay) {\n\t\treturn !document.hidden && willAutoplay && (['playing', 'paused', 'complete'].indexOf(playerInstance.getState()) === -1 || pausedOnRelated);\n\t}\n\n\tvar pausedOnRelated = false;\n\n\tdocument.addEventListener('visibilitychange', function () {\n\t\tif (canPlayVideo(willAutoplay)) {\n\t\t\tplayerInstance.play(true);\n\t\t\tpausedOnRelated = false;\n\t\t}\n\t}, false);\n\n\tplayerInstance.on('relatedVideoPlay', function () {\n\t\tif (document.hidden) {\n\t\t\tplayerInstance.pause();\n\t\t\tpausedOnRelated = true;\n\t\t}\n\t});\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerLogger;\nfunction wikiaJWPlayerLogger(options) {\n\tvar servicesDomain = options.servicesDomain || 'services.wikia.com',\n\t    loggerPath = '/event-logger/error',\n\t    loggerUrl = 'https://' + servicesDomain + loggerPath,\n\t    prefix = 'JWPlayer',\n\t    logLevels = {\n\t\tinfo: 1,\n\t\twarn: 2,\n\t\terror: 3,\n\t\toff: 4\n\t},\n\t    loggerOptions = options.logger || {},\n\t    logLevel = loggerOptions.logLevel ? logLevels[loggerOptions.logLevel] : logLevels['error'],\n\t    clientName = loggerOptions.clientName;\n\n\t/**\n  * logs errors to event-logger service\n  *\n  * @param name\n  * @param description\n  */\n\tfunction logErrorToService(name, description) {\n\t\tvar request = new XMLHttpRequest(),\n\t\t    data = {\n\t\t\tname: prefix + ' ' + name\n\t\t};\n\n\t\tif (description) {\n\t\t\tdata.description = typeof description === 'string' ? description : JSON.stringify(description);\n\t\t}\n\n\t\tif (clientName) {\n\t\t\tdata.client = clientName;\n\t\t}\n\n\t\trequest.open('POST', loggerUrl, true);\n\t\trequest.setRequestHeader('Content-type', 'application/json');\n\n\t\trequest.send(JSON.stringify(data));\n\t}\n\n\tfunction info(name, description) {\n\t\tif (logLevel <= logLevels['info']) {\n\t\t\tconsole.info(prefix, name, description);\n\t\t}\n\t}\n\n\tfunction warn(name, description) {\n\t\tif (logLevel <= logLevels['warn']) {\n\t\t\tconsole.warn(prefix, name, description);\n\t\t}\n\t}\n\n\tfunction error(name, description) {\n\t\tif (logLevel <= logLevels['error']) {\n\t\t\tconsole.error(prefix, name, description);\n\t\t\tlogErrorToService(name, description);\n\t\t}\n\t}\n\n\t/**\n  * subscribes to jwplayer errors\n  *\n  * @param playerInstance\n  */\n\tfunction subscribeToPlayerErrors(playerInstance) {\n\t\tplayerInstance.on('setupError', function (err) {\n\t\t\terror('setupError', err);\n\t\t});\n\n\t\tplayerInstance.on('error', function (err) {\n\t\t\terror('error', err);\n\t\t});\n\t}\n\n\treturn {\n\t\tinfo: info,\n\t\twarn: warn,\n\t\terror: error,\n\t\tsubscribeToPlayerErrors: subscribeToPlayerErrors\n\t};\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerSettingsPlugin;\n\nvar _icons = __webpack_require__(0);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _DOMHelpers = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isActiveClass = 'is-active';\n\nfunction wikiaJWPlayerSettingsPlugin(player, config, div) {\n\tthis.player = player;\n\tthis.container = div;\n\tthis.wikiaSettingsElement = document.createElement('div');\n\tthis.buttonID = 'wikiaSettings';\n\tthis.config = config;\n\tthis.documentClickHandler = this.documentClickHandler.bind(this);\n\n\tthis.container.classList.add('wikia-jw-settings__plugin');\n\tthis.wikiaSettingsElement.classList.add('wikia-jw-settings');\n\tthis.addSettingsContent(this.wikiaSettingsElement);\n\tthis.container.appendChild(this.wikiaSettingsElement);\n\n\tthis.player.on('levels', this.onQualityLevelsChange.bind(this));\n\tthis.player.on('captionsList', this.onCaptionsChange.bind(this));\n\n\tdocument.addEventListener('click', this.documentClickHandler);\n\t// fixes issue when opening the menu on iPhone 5, executing documentClickHandler twice doesn't break anything\n\tdocument.addEventListener('touchend', this.documentClickHandler);\n}\n\nwikiaJWPlayerSettingsPlugin.prototype.isSettingsMenuOrSettingsButton = function (element) {\n\tvar button = this.getSettingsButtonElement();\n\n\treturn button && (button === element || button.contains(element) || this.wikiaSettingsElement === element || this.wikiaSettingsElement.contains(element));\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.getSettingsButtonElement = function () {\n\treturn this.player.getContainer().querySelector('[button=' + this.buttonID + ']');\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.documentClickHandler = function (event) {\n\t// check if user didn't click the settings menu or settings button and if settings menu is open\n\tif (!this.isSettingsMenuOrSettingsButton(event.target) && this.container.style.display) {\n\t\tthis.close();\n\t}\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.addButton = function () {\n\tvar settingsIcon = (0, _DOMHelpers.createSVG)(_icons2.default.settings);\n\tsettingsIcon.classList.add('jw-svg-icon');\n\tsettingsIcon.classList.add('jw-svg-icon-wikia-settings');\n\n\tthis.player.addButton(settingsIcon.outerHTML, this.config.i18n.settings, function () {\n\t\tif (!this.wikiaSettingsElement.style.display) {\n\t\t\tthis.open();\n\t\t} else {\n\t\t\tthis.close();\n\t\t}\n\t}.bind(this), this.buttonID, 'wikia-jw-settings-button');\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.removeButton = function () {\n\tthis.player.removeButton(this.buttonID);\n};\n\n/**\n * closes settings menu\n */\nwikiaJWPlayerSettingsPlugin.prototype.close = function () {\n\tthis.showSettingsList();\n\tthis.container.style.display = null;\n\tthis.player.getContainer().classList.remove('wikia-jw-settings-open');\n};\n\n/**\n * opens settings menu\n */\nwikiaJWPlayerSettingsPlugin.prototype.open = function () {\n\t(0, _DOMHelpers.showElement)(this.container);\n\tthis.player.getContainer().classList.add('wikia-jw-settings-open');\n};\n\n/**\n * hides the entire plugin (button and settings menu)\n */\nwikiaJWPlayerSettingsPlugin.prototype.hide = function () {\n\tthis.close();\n\tthis.removeButton();\n};\n\n/**\n * shows back the entire plugin (adds button back)\n */\nwikiaJWPlayerSettingsPlugin.prototype.show = function () {\n\tif (!this.getSettingsButtonElement()) {\n\t\tthis.addButton();\n\t}\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.showSettingsList = function () {\n\t(0, _DOMHelpers.showElement)(this.settingsList);\n\t(0, _DOMHelpers.hideElement)(this.qualityLevelsList);\n\t(0, _DOMHelpers.hideElement)(this.captionsList);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.addSettingsContent = function (div) {\n\tdiv.classList.add('wikia-jw-settings');\n\tdiv.classList.remove('jw-reset');\n\tdiv.classList.remove('jw-plugin');\n\tthis.settingsList = this.createSettingsListElement();\n\tdiv.appendChild(this.settingsList);\n\n\tif (this.config.showQuality) {\n\t\tthis.createQualityLevelsList();\n\t\tdiv.appendChild(this.qualityLevelsList);\n\t}\n\n\tif (this.config.showCaptions) {\n\t\tthis.createCaptionsList();\n\t\tdiv.appendChild(this.captionsList);\n\t}\n\n\treturn div;\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createSettingsListElement = function () {\n\tvar settingsList = document.createElement('ul');\n\n\tsettingsList.className = 'wikia-jw-settings__list wds-list';\n\n\tif (this.config.showQuality) {\n\t\tsettingsList.appendChild(this.createQualityButton());\n\t}\n\n\tif (this.config.showCaptions) {\n\t\tsettingsList.appendChild(this.createCaptionsButton());\n\t}\n\n\tif (this.config.showAutoplayToggle) {\n\t\tsettingsList.appendChild(this.createAutoplayToggle());\n\t\tthis.show();\n\t}\n\n\treturn settingsList;\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createSubmenuWrapper = function () {\n\tvar backElement = document.createElement('li'),\n\t    submenuWrapper = document.createElement('ul');\n\n\tbackElement.className = 'wikia-jw-settings__back';\n\tbackElement.innerHTML = (0, _DOMHelpers.createArrowIcon)('left').outerHTML + ' ' + this.config.i18n.back;\n\tbackElement.addEventListener('click', this.showSettingsList.bind(this));\n\n\tsubmenuWrapper.className = 'wikia-jw-settings__submenu wds-list';\n\tsubmenuWrapper.appendChild(backElement);\n\n\treturn submenuWrapper;\n};\n\n// autoplay button specific methods\nwikiaJWPlayerSettingsPlugin.prototype.createAutoplayToggle = function () {\n\tvar autoplayToggle = (0, _DOMHelpers.createToggle)({\n\t\tid: this.player.getContainer().id + '-videoAutoplayToggle',\n\t\tlabel: this.config.i18n.autoplayVideos,\n\t\tchecked: this.config.autoplay\n\t});\n\n\tautoplayToggle.querySelector('label').addEventListener('click', function (event) {\n\t\tthis.player.trigger('autoplayToggle', {\n\t\t\tenabled: !event.target.previousSibling.checked\n\t\t});\n\t}.bind(this));\n\n\treturn autoplayToggle;\n};\n// end autoplay\n\n// quality button specific methods\nwikiaJWPlayerSettingsPlugin.prototype.createQualityButton = function () {\n\tvar qualityElement = document.createElement('li');\n\n\tqualityElement.className = 'wikia-jw-settings__quality-button';\n\tqualityElement.innerHTML = this.config.i18n.videoQuality + (0, _DOMHelpers.createArrowIcon)('right').outerHTML;\n\tqualityElement.addEventListener('click', function () {\n\t\t(0, _DOMHelpers.hideElement)(this.settingsList);\n\t\t(0, _DOMHelpers.showElement)(this.qualityLevelsList);\n\t}.bind(this));\n\n\treturn qualityElement;\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createQualityLevelsList = function () {\n\tthis.qualityLevelsList = this.createSubmenuWrapper();\n\n\tthis.player.on('levelsChanged', this.updateCurrentQuality.bind(this));\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.onQualityLevelsChange = function (data) {\n\t// in Safari in data.levels array there is one element with label = '0'\n\tvar isQualityListEmpty = !data.levels.length || data.levels.length === 1 && data.levels[0].label === '0',\n\t    shouldShowSettingsButton = !isQualityListEmpty && this.config.showQuality || this.config.showAutoplayToggle,\n\t    isQualityListEmptyClass = 'is-quality-list-empty';\n\n\tif (isQualityListEmpty) {\n\t\tthis.wikiaSettingsElement.classList.add(isQualityListEmptyClass);\n\t} else {\n\t\tthis.wikiaSettingsElement.classList.remove(isQualityListEmptyClass);\n\t}\n\n\tif (shouldShowSettingsButton) {\n\t\tthis.show();\n\t}\n\n\tif (this.qualityLevelsList) {\n\t\tthis.updateQualityLevelsList(data.levels);\n\t}\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.updateQualityLevelsList = function (newLevels) {\n\t(0, _DOMHelpers.clearListElement)(this.qualityLevelsList);\n\n\tnewLevels.forEach(function (level, index) {\n\t\tvar qualityLevelItem = document.createElement('li');\n\n\t\tqualityLevelItem.addEventListener('click', function () {\n\t\t\tthis.player.setCurrentQuality(index);\n\t\t\tthis.close();\n\t\t}.bind(this));\n\n\t\tif (this.player.getCurrentQuality() === index) {\n\t\t\tqualityLevelItem.classList.add(isActiveClass);\n\t\t}\n\n\t\tqualityLevelItem.appendChild(document.createTextNode(level.label));\n\t\tthis.qualityLevelsList.insertBefore(qualityLevelItem, this.qualityLevelsList.lastElementChild);\n\t}, this);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.updateCurrentQuality = function (data) {\n\tfor (var i = 0; i < this.qualityLevelsList.childNodes.length; i++) {\n\t\tvar node = this.qualityLevelsList.childNodes[i];\n\n\t\tif (data.currentQuality === i) {\n\t\t\tnode.classList.add(isActiveClass);\n\t\t} else {\n\t\t\tnode.classList.remove(isActiveClass);\n\t\t}\n\t}\n};\n// end quality\n\n// captions button specific methods\nwikiaJWPlayerSettingsPlugin.prototype.onCaptionsChange = function (event) {\n\tvar emptyCaptionsClass = 'are-captions-empty',\n\t    suitableCaptionsTrack = this.getSuitableCaptionsIndex(this.config.selectedCaptionsLanguage || this.captionLangMap[this.getUserLang()], event.tracks);\n\n\t(0, _DOMHelpers.clearListElement)(this.captionsList);\n\n\t// tracks always include \"off\" item\n\tif (this.captionsList && event.tracks.length > 1) {\n\t\tevent.tracks.forEach(this.createCaptionsListItem, this);\n\n\t\tthis.wikiaSettingsElement.classList.remove(emptyCaptionsClass);\n\t\tthis.show();\n\n\t\t// 'false' is used specifically to turn captions off\n\t\tif (this.config.selectedCaptionsLanguage !== false && suitableCaptionsTrack !== -1) {\n\t\t\tthis.player.setCurrentCaptions(suitableCaptionsTrack);\n\t\t} else {\n\t\t\t// \"off\" track is always the first one\n\t\t\tthis.player.setCurrentCaptions(0);\n\t\t}\n\t} else {\n\t\tthis.wikiaSettingsElement.classList.add(emptyCaptionsClass);\n\t}\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createCaptionsList = function () {\n\tthis.captionsList = this.createSubmenuWrapper();\n\n\tthis.player.on('captionsChanged', this.updateCurrentCaptions.bind(this));\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createCaptionsListItem = function (track, index) {\n\tvar captionItem = document.createElement('li'),\n\t    normalizedLabel = track.label === 'Off' ? 'No captions' : track.label;\n\n\tcaptionItem.dataset.track = index;\n\tcaptionItem.addEventListener('click', function () {\n\t\tthis.player.setCurrentCaptions(index);\n\t\tthis.close();\n\t\tthis.player.trigger('captionsSelected', {\n\t\t\tselectedLang: track.label\n\t\t});\n\t}.bind(this));\n\n\tcaptionItem.appendChild(document.createTextNode(normalizedLabel));\n\tthis.captionsList.insertBefore(captionItem, this.captionsList.firstElementChild);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createCaptionsButton = function () {\n\tvar captionsButton = document.createElement('li');\n\n\tcaptionsButton.className = 'wikia-jw-settings__captions-button';\n\tcaptionsButton.innerHTML = this.config.i18n.captions + (0, _DOMHelpers.createArrowIcon)('right').outerHTML;\n\n\tcaptionsButton.addEventListener('click', function () {\n\t\t(0, _DOMHelpers.hideElement)(this.settingsList);\n\t\t(0, _DOMHelpers.showElement)(this.captionsList);\n\t}.bind(this));\n\n\treturn captionsButton;\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.getUserLang = function () {\n\treturn (window.navigator.userLanguage || window.navigator.language).slice(0, 2);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.getSuitableCaptionsIndex = function (userLang, captionTracks) {\n\t// use findIndex when ES6+ will be available\n\treturn captionTracks.map(function (track) {\n\t\treturn track.label;\n\t}).indexOf(userLang);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.updateCurrentCaptions = function (data) {\n\tfor (var i = 0; i < this.captionsList.childNodes.length; i++) {\n\t\tthis.captionsList.childNodes[i].classList.remove(isActiveClass);\n\t}\n\n\tthis.captionsList.querySelector('[data-track=\"' + data.track + '\"]').classList.add(isActiveClass);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.captionLangMap = {\n\ten: 'English',\n\tpl: 'Polish',\n\tfr: 'French',\n\tde: 'German',\n\tit: 'Italian',\n\tja: 'Japanese',\n\tpt: 'Portuguese',\n\tru: 'Russian',\n\tes: 'Spanish',\n\tzh: 'Chinese'\n};\n// end captions\n\nwikiaJWPlayerSettingsPlugin.register = function () {\n\tjwplayer().registerPlugin('wikiaSettings', '8.0.0', wikiaJWPlayerSettingsPlugin);\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerAllowControllOnTouchDevices;\nfunction wikiaJWPlayerAllowControllOnTouchDevices(playerInstance) {\n\tplayerInstance.on('playerStart', function () {\n\t\tvar unmuteIcon = document.querySelector('.jw-autostart-mute');\n\n\t\tif (unmuteIcon) {\n\t\t\tplayerInstance.getContainer().classList.remove('jw-flag-autostart');\n\t\t\tunmuteIcon.style.display = 'none';\n\t\t}\n\t});\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = wikiaJWPlayerAnnotation;\n\nvar _Annotations = __webpack_require__(15);\n\nvar _Annotations2 = _interopRequireDefault(_Annotations);\n\nvar _Comments = __webpack_require__(16);\n\nvar _Comments2 = _interopRequireDefault(_Comments);\n\nvar _AnnotationStream = __webpack_require__(17);\n\nvar _AnnotationStream2 = _interopRequireDefault(_AnnotationStream);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commentMock = [{\n\ttext: 'My 1st comment',\n\tcreatedBy: { username: \"Ciastek\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png' },\n\tdisplayAt: 2\n}, {\n\ttext: 'My 2nd comment',\n\tcreatedBy: { username: \"Krzyś\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png' },\n\tdisplayAt: 4\n}, {\n\ttext: 'My 3rd comment',\n\tcreatedBy: { username: \"Krzyś\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png' },\n\tdisplayAt: 8\n}];\n\nvar annotationMock = [{\n\ttext: 'My 1st annotation',\n\tcreatedBy: { username: \"Barti\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png' },\n\tlinksTo: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png',\n\tdisplayAt: 1\n}, {\n\ttext: 'My 2nd annotation',\n\tcreatedBy: { username: \"Ciastek\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png' },\n\tlinksTo: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png',\n\tdisplayAt: 3\n}, {\n\ttext: 'My 3rd annotation',\n\tcreatedBy: { username: \"Ciastek\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png' },\n\tlinksTo: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png',\n\tdisplayAt: 7.5\n}];\n\nfunction wikiaJWPlayerAnnotation(playerInstance) {\n\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tnew _AnnotationStream2.default(playerInstance, { amount: 3 }).add(annotationMock.map(function (el) {\n\t\treturn new _Annotations2.default({ item: el, playerInstance: playerInstance });\n\t})).add(commentMock.map(function (el) {\n\t\treturn new _Comments2.default({ item: el, playerInstance: playerInstance });\n\t}));\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Base2 = __webpack_require__(3);\n\nvar _Base3 = _interopRequireDefault(_Base2);\n\nvar _utils = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Annotation = function (_Base) {\n\t_inherits(Annotation, _Base);\n\n\tfunction Annotation() {\n\t\t_classCallCheck(this, Annotation);\n\n\t\treturn _possibleConstructorReturn(this, (Annotation.__proto__ || Object.getPrototypeOf(Annotation)).apply(this, arguments));\n\t}\n\n\t_createClass(Annotation, [{\n\t\tkey: \"createElement\",\n\t\tvalue: function createElement(_ref) {\n\t\t\tvar text = _ref.text,\n\t\t\t    linksTo = _ref.linksTo;\n\n\t\t\tvar domString = \"\\n\\t\\t\\t\\t<div class=\\\"wikia-annotation wikia-annotation--annotation\\\">\\n\\t\\t\\t\\t\\t<a href=\\\"\" + linksTo + \"\\\" class=\\\"wikia-annotation__text\\\">\\n\\t\\t\\t\\t\\t\\t\" + text + \"\\n\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\";\n\n\t\t\treturn (0, _utils.stringToHtml)(domString);\n\t\t}\n\t}]);\n\n\treturn Annotation;\n}(_Base3.default);\n\nexports.default = Annotation;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Base2 = __webpack_require__(3);\n\nvar _Base3 = _interopRequireDefault(_Base2);\n\nvar _utils = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Comment = function (_Base) {\n\t_inherits(Comment, _Base);\n\n\tfunction Comment() {\n\t\t_classCallCheck(this, Comment);\n\n\t\treturn _possibleConstructorReturn(this, (Comment.__proto__ || Object.getPrototypeOf(Comment)).apply(this, arguments));\n\t}\n\n\t_createClass(Comment, [{\n\t\tkey: \"createElement\",\n\t\tvalue: function createElement(_ref) {\n\t\t\tvar text = _ref.text,\n\t\t\t    createdBy = _ref.createdBy;\n\n\t\t\tvar domString = \"\\n\\t\\t\\t\\t<div class=\\\"wikia-annotation wikia-annotation--comment\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"wikia-annotation__author\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"wikia-annotation__avatar\\\">\\n\\t\\t\\t\\t\\t\\t\\t<img src=\\\"\" + createdBy.avatarUrl + \"\\\" alt=\\\"\\\" />\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"wikia-annotation__user\\\">\\n\\t\\t\\t\\t\\t\\t\\t\" + createdBy.username + \"\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"wikia-annotation__text\\\">\\n\\t\\t\\t\\t\\t\\t\" + text + \"\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\";\n\n\t\t\treturn (0, _utils.stringToHtml)(domString);\n\t\t}\n\t}]);\n\n\treturn Comment;\n}(_Base3.default);\n\nexports.default = Comment;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(1);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AnnotationStream = function () {\n\tfunction AnnotationStream(playerInstance) {\n\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t_classCallCheck(this, AnnotationStream);\n\n\t\tthis.list = [];\n\t\tthis.playerInstance = playerInstance;\n\t\tthis.currentlyVisibleAnnotations = [];\n\t\tthis.wrapper = this.createWrapper();\n\t\tthis.options = Object.assign({}, { amount: 2, delay: 5000 }, options);\n\n\t\tthis.attachListeners();\n\t}\n\n\t_createClass(AnnotationStream, [{\n\t\tkey: 'attachListeners',\n\t\tvalue: function attachListeners() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.playerInstance.on('time', function (_ref) {\n\t\t\t\tvar position = _ref.position;\n\n\t\t\t\tvar nextAnnotation = _this.findLastSuitableElement(position);\n\n\t\t\t\tif (nextAnnotation && !_this.currentlyVisibleAnnotations.includes(nextAnnotation)) {\n\t\t\t\t\t_this.manageElements(nextAnnotation);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.playerInstance.on('ready', function () {\n\t\t\t\treturn _this.attachWrapper();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'createWrapper',\n\t\tvalue: function createWrapper() {\n\t\t\treturn (0, _utils.stringToHtml)('<div class=\"wikia-annotation__wrapper\"></div>');\n\t\t}\n\t}, {\n\t\tkey: 'attachWrapper',\n\t\tvalue: function attachWrapper() {\n\t\t\tthis.playerInstance.getContainer().appendChild(this.wrapper);\n\t\t}\n\t}, {\n\t\tkey: 'add',\n\t\tvalue: function add(items) {\n\t\t\tthis.list = [].concat(_toConsumableArray(this.list), _toConsumableArray(items)).sort(function (a, b) {\n\t\t\t\treturn a.displayAt > b.displayAt;\n\t\t\t});\n\n\t\t\treturn this;\n\t\t}\n\t}, {\n\t\tkey: 'findLastSuitableElement',\n\t\tvalue: function findLastSuitableElement(position) {\n\t\t\tvar available = this.list.filter(function (annotation) {\n\t\t\t\treturn annotation.displayAt < position;\n\t\t\t});\n\n\t\t\treturn available[available.length - 1];\n\t\t}\n\t}, {\n\t\tkey: 'manageElements',\n\t\tvalue: function manageElements(nextAnnotation) {\n\t\t\tif (nextAnnotation.isDisplayed() || this.currentlyVisibleAnnotations.length >= this.options.amount) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.currentlyVisibleAnnotations = [].concat(_toConsumableArray(this.currentlyVisibleAnnotations), [nextAnnotation]);\n\n\t\t\tthis.wrapper.prepend(nextAnnotation.element);\n\n\t\t\tsetTimeout(function () {\n\t\t\t\treturn nextAnnotation.show();\n\t\t\t}, 0);\n\n\t\t\tthis.removeWithDelay(nextAnnotation);\n\t\t}\n\t}, {\n\t\tkey: 'removeWithDelay',\n\t\tvalue: function removeWithDelay() {\n\t\t\tvar _this2 = this;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tvar first = _this2.currentlyVisibleAnnotations.shift();\n\n\t\t\t\tif (first) {\n\t\t\t\t\tfirst.hide();\n\t\t\t\t}\n\t\t\t}, this.options.delay);\n\t\t}\n\t}]);\n\n\treturn AnnotationStream;\n}();\n\nexports.default = AnnotationStream;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _main = __webpack_require__(19);\n\nvar _main2 = _interopRequireDefault(_main);\n\nvar _main3 = __webpack_require__(20);\n\nvar _main4 = _interopRequireDefault(_main3);\n\nvar _main5 = __webpack_require__(21);\n\nvar _main6 = _interopRequireDefault(_main5);\n\nvar _main7 = __webpack_require__(22);\n\nvar _main8 = _interopRequireDefault(_main7);\n\nvar _main9 = __webpack_require__(23);\n\nvar _main10 = _interopRequireDefault(_main9);\n\nvar _main11 = __webpack_require__(24);\n\nvar _main12 = _interopRequireDefault(_main11);\n\nvar _main13 = __webpack_require__(25);\n\nvar _main14 = _interopRequireDefault(_main13);\n\nvar _main15 = __webpack_require__(26);\n\nvar _main16 = _interopRequireDefault(_main15);\n\nvar _main17 = __webpack_require__(27);\n\nvar _main18 = _interopRequireDefault(_main17);\n\nvar _main19 = __webpack_require__(28);\n\nvar _main20 = _interopRequireDefault(_main19);\n\nvar _main21 = __webpack_require__(29);\n\nvar _main22 = _interopRequireDefault(_main21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\tde: _main2.default,\n\ten: _main4.default,\n\tes: _main6.default,\n\tfr: _main8.default,\n\tit: _main10.default,\n\tja: _main12.default,\n\tpl: _main14.default,\n\tpt: _main16.default,\n\tru: _main18.default,\n\tzh: _main20.default,\n\t'zh-hans': _main22.default\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Pełny ekran\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// wikiajwplayer.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3319d727240cc71d7085","export default {\n\t// wds-icons-play-triangle-small.svg\n\tplay: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.767 9.437L3.858 16.903a.553.553 0 0 1-.565.037.531.531 0 0 1-.293-.473V1.533c0-.199.113-.381.293-.473a.557.557 0 0 1 .565.036l10.91 7.467A.53.53 0 0 1 15 9a.53.53 0 0 1-.233.437z\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-pause-small.svg\n\tpause: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><g fill-rule=\"evenodd\"><rect width=\"5\" height=\"16\" rx=\"1\" x=\"2\" y=\"1\"/><rect x=\"11\" width=\"5\" height=\"16\" rx=\"1\" y=\"1\"/></g></svg>',\n\t// wds-icons-fullscreen-small.svg\n\tfullScreenOn: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.249 7H1V2h5v2.25H3.249zm11.502 0H17V2h-5v2.25h2.751zM3.249 11H1v5h5v-2.25H3.249zm11.502 0H17v5h-5v-2.25h2.751z\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-fullscreen-off-small.svg\n\tfullScreenOff: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.751 2H6v5H1V4.75h2.751zm10.498 0H12v5h5V4.75h-2.751zM3.751 16H6v-5H1v2.25h2.751zm10.498 0H12v-5h5v2.25h-2.751z\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-gear-small.svg\n\tsettings: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9 7.09a1.909 1.909 0 1 1 0 3.819A1.909 1.909 0 0 1 9 7.09m-4.702-.03a1.07 1.07 0 0 1-.99.667h-.672A.637.637 0 0 0 2 8.364v1.272c0 .352.285.637.636.637h.672c.436 0 .824.264.99.667l.006.013c.167.403.08.864-.229 1.172L3.6 12.6a.636.636 0 0 0 0 .9l.9.9a.636.636 0 0 0 .9 0l.475-.475a1.072 1.072 0 0 1 1.185-.223c.403.166.667.554.667.99v.672c0 .35.285.636.637.636h1.272a.637.637 0 0 0 .637-.636v-.672c0-.436.264-.824.667-.99l.013-.006a1.07 1.07 0 0 1 1.172.229l.475.475a.636.636 0 0 0 .9 0l.9-.9a.636.636 0 0 0 0-.9l-.475-.475a1.072 1.072 0 0 1-.229-1.172l.006-.013a1.07 1.07 0 0 1 .99-.667h.672A.637.637 0 0 0 16 9.636V8.364a.637.637 0 0 0-.636-.637h-.672a1.07 1.07 0 0 1-.996-.68 1.072 1.072 0 0 1 .229-1.172L14.4 5.4a.636.636 0 0 0 0-.9l-.9-.9a.636.636 0 0 0-.9 0l-.475.475c-.308.308-.77.396-1.172.229l-.013-.006a1.07 1.07 0 0 1-.667-.99v-.672A.637.637 0 0 0 9.636 2H8.364a.637.637 0 0 0-.637.636v.672a1.07 1.07 0 0 1-.68.996 1.07 1.07 0 0 1-1.172-.229L5.4 3.6a.636.636 0 0 0-.9 0l-.9.9a.636.636 0 0 0 0 .9l.475.475a1.072 1.072 0 0 1 .223 1.185\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-volume-off-small.svg\n\tvolumeOff: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.45 2.17L4.664 6.28H1.036C.256 6.28 0 6.739 0 7.175v3.522c0 .436.256.985 1.036.985h3.646l3.785 4.176a1.1 1.1 0 0 0 .533.143.964.964 0 0 0 .5-.137c.33-.185.5-.526.5-.897V3.013c0-.37-.17-.713-.5-.898-.33-.186-.72-.13-1.05.054zm7.192 7.33l2.121-2.122a.807.807 0 1 0-1.142-1.141l-2.122 2.12-2.12-2.12a.808.808 0 0 0-1.142 1.141L13.358 9.5l-2.121 2.121a.807.807 0 1 0 1.142 1.142l2.12-2.12 2.122 2.12a.805.805 0 0 0 1.142 0 .807.807 0 0 0 0-1.142L15.642 9.5z\" fill-rule=\"evenodd\"/></svg>',\n\t// wds-icons-volume-small.svg\n\tvolumeOn: '<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"><g fill-rule=\"evenodd\"><path d=\"M8.45 2.17L4.664 6.28H1.036C.256 6.28 0 6.739 0 7.175v3.522c0 .436.256.985 1.036.985h3.646l3.785 4.176a1.1 1.1 0 0 0 .533.143.964.964 0 0 0 .5-.137c.33-.185.5-.526.5-.897V3.013c0-.37-.17-.713-.5-.898-.33-.186-.72-.13-1.05.054zm4.95 10.156a4.393 4.393 0 0 0 0-6.19.708.708 0 0 0-1.004 1 2.978 2.978 0 0 1 0 4.192.707.707 0 1 0 1.003.998z\"/><path d=\"M17.515 9.231A6.186 6.186 0 0 0 15.7 4.84a.707.707 0 1 0-1.003.998A4.777 4.777 0 0 1 16.1 9.231a4.778 4.778 0 0 1-1.4 3.394.708.708 0 1 0 1.002.999 6.186 6.186 0 0 0 1.814-4.393z\"/></g></svg>',\n\t// wds-menu-control-tiny.svg\n\tback: '<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.003 10.002a.997.997 0 0 1-.707-.293L.293 4.707a.999.999 0 1 1 1.414-1.414l4.296 4.295 4.293-4.293A.999.999 0 1 1 11.71 4.71l-5 5a.997.997 0 0 1-.707.293\" fill-rule=\"evenodd\"/></svg>',\n\t// jwplayer icon\n\tquality: '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"jw-svg-icon jw-svg-icon-quality-100\" viewBox=\"0 0 240 240\"><path d=\"M55,200H35c-3,0-5-2-5-4c0,0,0,0,0-1v-30c0-3,2-5,4-5c0,0,0,0,1,0h20c3,0,5,2,5,4c0,0,0,0,0,1v30C60,198,58,200,55,200L55,200z M110,195v-70c0-3-2-5-4-5c0,0,0,0-1,0H85c-3,0-5,2-5,4c0,0,0,0,0,1v70c0,3,2,5,4,5c0,0,0,0,1,0h20C108,200,110,198,110,195L110,195z M160,195V85c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v110c0,3,2,5,4,5c0,0,0,0,1,0h20C158,200,160,198,160,195L160,195z M210,195V45c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v150c0,3,2,5,4,5c0,0,0,0,1,0h20C208,200,210,198,210,195L210,195z\"></path></svg>',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/icons.js","const parser = new DOMParser();\n\nexport const stringToHtml = (domString) => {\n\tconst html = parser.parseFromString(domString, 'text/html');\n\n\treturn html.body.firstChild;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/annotation/utils.js","import wikiaJWPlayerIcons from './icons';\n\nconst domParser = new DOMParser();\n\nexport function createToggle(params) {\n\tconst toggleWrapper = document.createElement('li'),\n\t\ttoggleInput = document.createElement('input'),\n\t\ttoggleLabel = document.createElement('label');\n\n\ttoggleWrapper.className = 'wikia-jw-settings__toggle';\n\n\ttoggleInput.className = 'wds-toggle__input';\n\ttoggleInput.id = params.id;\n\ttoggleInput.type = 'checkbox';\n\ttoggleInput.checked = params.checked;\n\n\ttoggleLabel.className = 'wds-toggle__label';\n\ttoggleLabel.setAttribute('for', params.id);\n\n\ttoggleLabel.appendChild(document.createTextNode(params.label));\n\n\ttoggleWrapper.appendChild(toggleInput);\n\ttoggleWrapper.appendChild(toggleLabel);\n\n\treturn toggleWrapper;\n}\n\n/**\n * Available directions:\n * - left\n * - right\n *\n * @param {String} direction\n * @returns {HTMLElement}\n */\nexport function createArrowIcon(direction) {\n\tconst arrowIcon = createSVG(wikiaJWPlayerIcons.back);\n\n\tif (direction === 'left') {\n\t\tarrowIcon.classList.add('wikia-jw-settings__back-icon');\n\t} else {\n\t\tarrowIcon.classList.add('wikia-jw-settings__right-arrow-icon');\n\t}\n\n\treturn arrowIcon;\n}\n\nexport function clearListElement(element) {\n\tif (element) {\n\t\twhile (element.childElementCount > 1) {\n\t\t\telement.removeChild(element.firstChild);\n\t\t}\n\t}\n}\n\nexport function createSVG(svgHtml) {\n\treturn domParser.parseFromString(svgHtml, 'image/svg+xml').documentElement;\n}\n\nexport function showElement(element) {\n\tif (element) {\n\t\telement.style.display = 'block';\n\t}\n}\n\nexport function hideElement(element) {\n\tif (element) {\n\t\telement.style.display = 'none';\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/DOMHelpers.js","export default class Base {\n\tconstructor({ item, playerInstance }) {\n\t\tthis.element = this.createElement(item);\n\t\tthis.playerInstance = playerInstance;\n\t\tthis.displayAt = item.displayAt;\n\t\tthis.displayed = false;\n\t}\n\n\tcreateElement() {\n\t\tthrow new Error('METHOD NOT IMPLEMENTED!');\n\t}\n\n\thide() {\n\t\tthis.element.classList.remove('enter');\n\t\tthis.element.classList.add('exit');\n\n\t\tsetTimeout(() => this.remove(), 500);\n\t}\n\n\tshow() {\n\t\tthis.element.classList.remove('exit');\n\t\tthis.element.classList.add('enter');\n\t\tthis.displayed = true;\n\t}\n\n\tremove() {\n\t\tif (this.element) {\n\t\t\tthis.element.remove();\n\n\t\t\tthis.element = null;\n\t\t}\n\t}\n\n\tisDisplayed() {\n\t\treturn this.displayed;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/annotation/Base.js","import wikiaJWPlayerEvents from './events';\nimport wikiaJWPlayerReplaceIcons from './replace-icons';\nimport wikiaJWPlayerRelatedVideoSound from './sound';\nimport wikiaJWPlayerTracking from './tracking';\nimport wikiaJWPlayerHandleTabNotActive from './tab-active';\nimport wikiaJWPlayerLogger from './logger';\nimport wikiaJWPlayerSettingsPlugin from './settings.plugin';\nimport wikiaJWPlayerAllowControllOnTouchDevices from './allow-control-on-touch';\nimport wikiaJWPlayerAnnotation from './annotation/index';\nimport wikiaJWPlayeri18n from './../locales/i18n';\n\nconst loadCallbacks = [];\n\nwindow.wikiaJWPlayer = function (elementId, options, callback) {\n\n\t/**\n\t * adds script tag\n\t * @param elementId\n\t * @param playerURL\n\t */\n\tfunction createScriptTag(elementId, playerURL) {\n\t\tconst script = document.createElement('script'),\n\t\t\tplayerElement = document.getElementById(elementId);\n\n\t\tscript.onload = function () {\n\t\t\twikiaJWPlayerSettingsPlugin.register();\n\t\t\tloadCallbacks.forEach(function (callback) {\n\t\t\t\tcallback();\n\t\t\t});\n\t\t};\n\t\tscript.async = true;\n\t\tscript.src = playerURL || 'https://content.jwplatform.com/libraries/VXc5h4Tf.js';\n\t\t// insert script node just after player element\n\t\tplayerElement.parentNode.insertBefore(script, playerElement.nextSibling);\n\t}\n\n\t/**\n\t * loads jwplayer library\n\t * @param elementId\n\t * @param playerURL\n\t * @param callback\n\t */\n\tfunction loadJWPlayerScript(elementId, playerURL, callback) {\n\t\tif (typeof jwplayer !== 'undefined') {\n\t\t\tcallback();\n\t\t} else {\n\t\t\tloadCallbacks.push(callback);\n\n\t\t\t// we don't want to load multiple jwplayer libraries\n\t\t\tif (loadCallbacks.length === 1) {\n\t\t\t\tcreateScriptTag(elementId, playerURL);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * setups player\n\t * @param elementId\n\t * @param options\n\t * @param logger\n\t * @return {*}\n\t */\n\tfunction setupPlayer(elementId, options, logger) {\n\t\tconst playerInstance = jwplayer(elementId),\n\t\t\tvideoId = options.videoDetails.playlist[0].mediaid,\n\t\t\twillAutoplay = options.autoplay,\n\t\t\tlang = options.lang || 'en',\n\t\t\t// IMA supports two-letter ISO 639-1 code\n\t\t\tlangForAds = lang.substr(0, 2),\n\t\t\ti18n = wikiaJWPlayeri18n[lang] || wikiaJWPlayeri18n['en'],\n\t\t\tplayerSetup = {\n\t\t\t\tadvertising: {\n\t\t\t\t\tautoplayadsmuted: willAutoplay,\n\t\t\t\t\tclient: 'googima',\n\t\t\t\t\tvpaidcontrols: true,\n\t\t\t\t\tadmessage: i18n.admessage,\n\t\t\t\t\tcuetext: i18n.cuetext,\n\t\t\t\t\tskipmessage: i18n.skipmessage,\n\t\t\t\t\tskiptext: i18n.skiptext,\n\t\t\t\t\tsetLocale: langForAds\n\t\t\t\t},\n\t\t\t\tautostart: willAutoplay && !document.hidden,\n\t\t\t\tdescription: options.videoDetails.description,\n\t\t\t\timage: '//content.jwplatform.com/thumbs/' + videoId + '-640.jpg',\n\t\t\t\tmute: options.mute,\n\t\t\t\tplaylist: options.videoDetails.playlist,\n\t\t\t\ttitle: options.videoDetails.title,\n\t\t\t\tlocalization: i18n\n\t\t\t};\n\n\t\tif (options.settings) {\n\t\t\tplayerSetup.plugins = {\n\t\t\t\twikiaSettings: {\n\t\t\t\t\tshowAutoplayToggle: options.settings.showAutoplayToggle,\n\t\t\t\t\tshowQuality: options.settings.showQuality,\n\t\t\t\t\tshowCaptions: options.settings.showCaptions,\n\t\t\t\t\tautoplay: options.autoplay,\n\t\t\t\t\tselectedCaptionsLanguage: options.selectedCaptionsLanguage,\n\t\t\t\t\ti18n: i18n\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (options.related) {\n\t\t\tplayerSetup.related = {\n\t\t\t\tautoplaytimer: options.related.time || 3,\n\t\t\t\tfile: '//cdn.jwplayer.com/v2/playlists/' + options.related.playlistId + '?related_media_id=' + videoId,\n\t\t\t\toncomplete: options.related.autoplay ? 'autoplay' : 'show',\n\t\t\t\tautoplaymessage: i18n.nextUpInSeconds\n\t\t\t};\n\t\t}\n\n\t\tlogger.info('setupPlayer');\n\t\tplayerInstance.setup(playerSetup);\n\t\tlogger.info('after setup');\n\t\tlogger.subscribeToPlayerErrors(playerInstance);\n\n\t\treturn playerInstance;\n\t}\n\n\tloadJWPlayerScript(elementId, options.playerURL, function () {\n\t\tconst logger = wikiaJWPlayerLogger(options),\n\t\t\tplayerInstance = setupPlayer(elementId, options, logger);\n\n\t\twikiaJWPlayerReplaceIcons(playerInstance);\n\t\twikiaJWPlayerEvents(playerInstance, options.autoplay, logger);\n\n\t\tif (options.related) {\n\t\t\twikiaJWPlayerRelatedVideoSound(playerInstance);\n\t\t}\n\n\t\tif (options.tracking) {\n\t\t\toptions.tracking.pixel = options.videoDetails.playlist[0].pixel;\n\t\t\twikiaJWPlayerTracking(playerInstance, options.autoplay, options.tracking);\n\t\t}\n\n\t\twikiaJWPlayerHandleTabNotActive(playerInstance, options.autoplay);\n\n\t\twikiaJWPlayerAllowControllOnTouchDevices(playerInstance);\n\n\t\tif (callback) {\n\t\t\tcallback(playerInstance);\n\t\t}\n\n\t\twikiaJWPlayerAnnotation(playerInstance, {\n\t\t\tannotations: options.annotations,\n\t\t\tcomments: options.comments,\n\t\t\tspoilers: options.spoilers\n\t\t});\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/index.js","export default function wikiaJWPlayerEvents(playerInstance, willAutoplay, logger) {\n\tvar state = getNewState(),\n\t\twasAlreadyUnmuted = false,\n\t\tdepth = 0,\n\t\tprefixes = {\n\t\t\tad: 'ad',\n\t\t\tvideo: 'video'\n\t\t},\n\t\tisPlayerPaused = false;\n\n\t/**\n\t * returns default state for video/ad\n\t * @return {{wasFirstQuartileTriggered: boolean, wasMidPointTriggered: boolean, wasThirdQuartileTriggered: boolean, progress: {durationWatched: number, percentWatched: number}}}\n\t */\n\tfunction getDefaultState() {\n\t\treturn {\n\t\t\twasFirstQuartileTriggered: false,\n\t\t\twasMidPointTriggered: false,\n\t\t\twasThirdQuartileTriggered: false,\n\t\t\tprogress: {\n\t\t\t\tdurationWatched: 0,\n\t\t\t\tpercentWatched: 0\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * retruns new state for ad and video\n\t * @return {{ad: {wasFirstQuartileTriggered: boolean, wasMidPointTriggered: boolean, wasThirdQuartileTriggered: boolean, progress: {durationWatched: number, percentWatched: number}}, video: {wasFirstQuartileTriggered: boolean, wasMidPointTriggered: boolean, wasThirdQuartileTriggered: boolean, progress: {durationWatched: number, percentWatched: number}}}}\n\t */\n\tfunction getNewState() {\n\t\treturn {\n\t\t\tad: getDefaultState(),\n\t\t\tvideo: getDefaultState()\n\t\t}\n\t}\n\n\t/**\n\t * triggers video/ad time-based events\n\t * @param prefix\n\t * @param data\n\t */\n\tfunction handleTime(prefix, data) {\n\t\tvar positionFloor = Math.floor(data.position),\n\t\t\tpercentPlayed = Math.floor(positionFloor * 100 / data.duration);\n\n\t\tif (positionFloor > state[prefix].progress.durationWatched && positionFloor % 5 === 0) {\n\t\t\tplayerInstance.trigger(prefix + 'SecondsPlayed', { value: positionFloor });\n\n\t\t\tstate[prefix].progress.durationWatched = positionFloor;\n\t\t}\n\n\t\tif (percentPlayed >= 25 && !state[prefix].wasFirstQuartileTriggered) {\n\t\t\tplayerInstance.trigger(prefix + 'FirstQuartile');\n\t\t\tstate[prefix].wasFirstQuartileTriggered = true;\n\t\t}\n\n\t\tif (percentPlayed >= 50 && !state[prefix].wasMidPointTriggered) {\n\t\t\tplayerInstance.trigger(prefix + 'MidPoint');\n\t\t\tstate[prefix].wasMidPointTriggered = true;\n\t\t}\n\n\t\tif (percentPlayed >= 75 && !state[prefix].wasThirdQuartileTriggered) {\n\t\t\tplayerInstance.trigger(prefix + 'ThirdQuartile');\n\t\t\tstate[prefix].wasThirdQuartileTriggered = true;\n\t\t}\n\n\t\tif (percentPlayed > state[prefix].progress.percentWatched && percentPlayed % 10 === 0) {\n\t\t\tplayerInstance.trigger(prefix + 'PercentPlayed', { value: percentPlayed });\n\n\t\t\tstate[prefix].progress.percentWatched = percentPlayed;\n\t\t}\n\t}\n\n\tlogger.info('before ready');\n\tplayerInstance.once('ready', function () {\n\t\tlogger.info('player ready');\n\t\tvar relatedPlugin = playerInstance.getPlugin('related');\n\n\t\trelatedPlugin.on('open', function () {\n\t\t\tlogger.info('related plugin open');\n\t\t\tplayerInstance.trigger('relatedVideoImpression');\n\t\t\tstate[prefixes.video] = getDefaultState();\n\t\t});\n\n\t\trelatedPlugin.on('play', function (data) {\n\t\t\tlogger.info('related plugin play');\n\t\t\tdepth++;\n\n\t\t\tplayerInstance.trigger('relatedVideoPlay', {\n\t\t\t\tauto: data.auto,\n\t\t\t\titem: data.item,\n\t\t\t\tposition: data.position,\n\t\t\t\tdepth: depth\n\t\t\t});\n\t\t});\n\t});\n\n\tplayerInstance.on('play', function (data) {\n\t\tif (isPlayerPaused) {\n\t\t\tplayerInstance.trigger('videoResumed');\n\t\t\tlogger.info('videoResumed triggered');\n\t\t}\n\n\t\tisPlayerPaused = false;\n\t});\n\n\tplayerInstance.on('pause', function () {\n\t\tisPlayerPaused = true;\n\t});\n\n\tplayerInstance.on('firstFrame', function () {\n\t\tif (depth === 0) {\n\t\t\tplayerInstance.trigger('playerStart', { auto: willAutoplay });\n\t\t\tlogger.info('playerStart triggered');\n\t\t}\n\n\t\tplayerInstance.trigger('videoStart');\n\t\tlogger.info('videoStart triggered');\n\t});\n\n\tplayerInstance.on('mute', function () {\n\t\tif (!playerInstance.getMute() && !wasAlreadyUnmuted) {\n\t\t\tplayerInstance.trigger('firstUnmute');\n\t\t\twasAlreadyUnmuted = true;\n\t\t}\n\t});\n\n\tplayerInstance.on('time', function (data) {\n\t\thandleTime(prefixes.video, data);\n\t});\n\n\tplayerInstance.on('adTime', function (data) {\n\t\thandleTime(prefixes.ad, data);\n\t});\n\n\tplayerInstance.on('adRequest', function () {\n\t\tstate[prefixes.ad] = getDefaultState();\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/events.js","import wikiaJWPlayerIcons from './icons';\nimport { createSVG } from \"./DOMHelpers\";\n\nexport default function wikiaJWPlayerReplaceIcons(playerInstance) {\n\t/**\n\t * Replaces inner markup of JW SVG's with SVG from Design System\n\t * We cannot override the whole SVG as this makes the player misbehave\n\t * (e.g.) show fullscreen icon twice, next to each other\n\t *\n\t * @param {HTMLElement} icon\n\t * @param {string} iconHtml\n\t */\n\tfunction replaceJWIconWithCustom(icon, iconHtml) {\n\t\t// some icons are not present on smaller devices\n\t\tif (icon) {\n\t\t\tconst newIcon = createSVG(iconHtml);\n\n\t\t\tnewIcon.setAttribute('class', icon.getAttribute('class'));\n\t\t\ticon.parentNode.replaceChild(newIcon, icon);\n\t\t}\n\t}\n\n\t/**\n\t * @param {HTMLElement} videoPlayerElement\n\t */\n\tfunction replaceIcons(videoPlayerElement) {\n\t\tvar controlBar = videoPlayerElement.querySelector('.jw-controlbar'),\n\t\t\tdisplayControls = videoPlayerElement.querySelector('.jw-display'),\n\t\t\tcontrolBarIcons = [\n\t\t\t\t{ selector: '.jw-svg-icon-play', iconName: 'play' },\n\t\t\t\t{ selector: '.jw-svg-icon-pause', iconName: 'pause' },\n\t\t\t\t{ selector: '.jw-svg-icon-fullscreen-on', iconName: 'fullScreenOn' },\n\t\t\t\t{ selector: '.jw-svg-icon-fullscreen-off', iconName: 'fullScreenOff' },\n\t\t\t\t{ selector: '.jw-svg-icon-settings', iconName: 'settings' },\n\t\t\t\t{ selector: '.jw-svg-icon-volume-0', iconName: 'volumeOff' },\n\t\t\t\t{ selector: '.jw-svg-icon-volume-50', iconName: 'volumeOn' },\n\t\t\t\t{ selector: '.jw-svg-icon-volume-100', iconName: 'volumeOn' }\n\t\t\t],\n\t\t\tdisplayControlsIcons = [\n\t\t\t\t{ selector: '.jw-svg-icon-play', iconName: 'play' },\n\t\t\t\t{ selector: '.jw-svg-icon-pause', iconName: 'pause' }\n\t\t\t];\n\n\t\tcontrolBarIcons.forEach(function (iconData) {\n\t\t\treplaceJWIconWithCustom(\n\t\t\t\tcontrolBar.querySelector(iconData.selector),\n\t\t\t\twikiaJWPlayerIcons[iconData.iconName]\n\t\t\t);\n\t\t});\n\n\t\tdisplayControlsIcons.forEach(function (iconData) {\n\t\t\treplaceJWIconWithCustom(\n\t\t\t\tdisplayControls.querySelector(iconData.selector),\n\t\t\t\twikiaJWPlayerIcons[iconData.iconName]\n\t\t\t);\n\t\t});\n\t}\n\n\tplayerInstance.on('ready', function () {\n\t\treplaceIcons(playerInstance.getContainer());\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/replace-icons.js","export default function wikiaJWPlayerRelatedVideoSound(playerInstance) {\n\t// Unmutes the sound if related video was played by the user interaction, not autoplayed\n\tplayerInstance.on('relatedVideoPlay', function (data) {\n\t\tif (!data.auto) {\n\t\t\tplayerInstance.setMute(false);\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/sound.js","export default function wikiaJWPlayerTracking(playerInstance, willAutoplay, tracker) {\n\t//This will replace 'trackingevent' in internal tracker url path\n\tconst eventName = 'videoplayerevent',\n\t\tgaCategory = tracker.category || 'featured-video';\n\n\tfunction updateVideoCustomDimensions(currentVideo) {\n\t\tif (typeof tracker.setCustomDimension !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\ttracker.setCustomDimension(34, currentVideo.mediaid);\n\t\ttracker.setCustomDimension(35, currentVideo.title);\n\t\ttracker.setCustomDimension(36, currentVideo.tags);\n\t}\n\n\tfunction addTrackingPixel(id, url) {\n\t\tconst mountedPixel = document.getElementById(id),\n\t\t\timg = document.createElement('img');\n\n\t\tif (mountedPixel) {\n\t\t\tmountedPixel.parentElement.removeChild(mountedPixel);\n\t\t}\n\n\t\timg.src = url;\n\t\timg.id = id;\n\n\t\tdocument.body.appendChild(img);\n\t}\n\n\t/**\n\t * Comscore Video Metrix tracking, sends tracking request with 3 Comscore parameters:\n\t * C1 (identifier of content) = 1\n\t * C2 (client ID) = 6177433 for Fandom\n\t * C5 (video type identifier) = 04 for featured videos\n\t * We need to track it at each video playback\n\t */\n\tfunction trackComscoreVideoMetrix() {\n\t\tif (!tracker.comscore) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst pixelID = 'comscoreVideoMetrixTrack',\n\t\t\turl = 'http://b.scorecardresearch.com/p?C1=1&C2=6177433&C5=04';\n\n\t\taddTrackingPixel(pixelID, url);\n\t}\n\n\t/**\n\t * adds custom tracking pixel if specified\n\t */\n\tfunction trackCustomPixel(pixelURL) {\n\t\tif (pixelURL) {\n\t\t\taddTrackingPixel('wikiaJWPlayerCustomPixel', pixelURL);\n\t\t}\n\t}\n\n\tfunction track(gaData) {\n\t\tif (!gaData.label) {\n\t\t\tthrow new Error('No tracking label provided');\n\t\t}\n\n\t\tconst trackingData = {\n\t\t\taction: gaData.action || 'click',\n\t\t\tcategory: gaCategory,\n\t\t\tlabel: gaData.label,\n\t\t\t//value tracks sound state: 1 for muted, 0 for unmuted\n\t\t\tvalue: Number(playerInstance.getMute()),\n\n\t\t\t// Internal tracking data\n\t\t\teventName: eventName,\n\t\t\tvideoId: playerInstance.getPlaylistItem().mediaid,\n\t\t\tplayer: 'jwplayer',\n\t\t\ttrackingMethod: 'analytics'\n\t\t};\n\n\t\t// Will be replaced by connecting Internal + GA trackers\n\t\ttracker.track(trackingData);\n\t}\n\n\tif (typeof tracker.setCustomDimension === 'function') {\n\t\ttracker.setCustomDimension(37, willAutoplay ? 'Yes' : 'No');\n\t}\n\n\tplayerInstance.once('ready', function () {\n\t\tupdateVideoCustomDimensions(\n\t\t\tplayerInstance.getPlaylistItem()\n\t\t);\n\n\t\ttrack({\n\t\t\tlabel: 'load',\n\t\t\taction: 'impression'\n\t\t});\n\t});\n\n\tplayerInstance.on('relatedVideoImpression', function () {\n\t\ttrack({\n\t\t\tlabel: 'recommended-video',\n\t\t\taction: 'impression'\n\t\t});\n\t});\n\n\tplayerInstance.on('relatedVideoPlay', function (data) {\n\t\tupdateVideoCustomDimensions(\n\t\t\tdata.item\n\t\t);\n\n\t\tvar labelPrefix = data.auto ? 'recommended-video-autoplay-' : 'recommended-video-select-';\n\n\t\ttrack({\n\t\t\tlabel: labelPrefix + data.position,\n\t\t\taction: 'impression'\n\t\t});\n\n\t\ttrack({\n\t\t\tlabel: 'recommended-video-depth-' + data.depth,\n\t\t\taction: 'impression'\n\t\t});\n\n\t\ttrackComscoreVideoMetrix();\n\t\ttrackCustomPixel(data.item.pixel);\n\t});\n\n\tplayerInstance.on('videoResumed', function () {\n\t\ttrack({\n\t\t\tlabel: 'play-resumed'\n\t\t})\n\t});\n\n\tplayerInstance.on('playerStart', function (data) {\n\t\tconst gaData = data.auto ?\n\t\t\t{ label: 'autoplay-start', action: 'impression' } :\n\t\t\t{ label: 'user-start' };\n\n\t\ttrack(gaData);\n\n\t\ttrackComscoreVideoMetrix();\n\t\ttrackCustomPixel(tracker.pixel);\n\t});\n\n\tplayerInstance.on('pause', function () {\n\t\ttrack({\n\t\t\tlabel: 'paused'\n\t\t});\n\t});\n\n\tplayerInstance.on('firstUnmute', function () {\n\t\ttrack({\n\t\t\tlabel: 'unmuted'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoPercentPlayed', function (data) {\n\t\ttrack({\n\t\t\tlabel: 'played-percentage-' + data.value,\n\t\t\taction: 'view'\n\t\t});\n\t});\n\n\tplayerInstance.on('complete', function () {\n\t\ttrack({\n\t\t\tlabel: 'completed',\n\t\t\taction: 'impression'\n\t\t});\n\t});\n\n\tplayerInstance.on('onScrollClosed', function () {\n\t\ttrack({\n\t\t\tlabel: 'collapsed',\n\t\t\taction: 'close'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoFeedbackImpression', function () {\n\t\ttrack({\n\t\t\tlabel: 'feedback',\n\t\t\taction: 'impression'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoFeedbackThumbUp', function () {\n\t\ttrack({\n\t\t\tlabel: 'feedback-thumb-up',\n\t\t\taction: 'click'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoFeedbackThumbDown', function () {\n\t\ttrack({\n\t\t\tlabel: 'feedback-thumb-down',\n\t\t\taction: 'click'\n\t\t});\n\t});\n\n\tplayerInstance.on('videoFeedbackClosed', function () {\n\t\ttrack({\n\t\t\tlabel: 'feedback',\n\t\t\taction: 'close'\n\t\t});\n\t});\n\n\tplayerInstance.on('autoplayToggle', function (data) {\n\t\ttrack({\n\t\t\tlabel: 'autoplay-' + (data.enabled ? 'enabled' : 'disabled')\n\t\t});\n\t});\n\n\tplayerInstance.on('captionsSelected', function (data) {\n\t\ttrack({\n\t\t\tlabel: 'language-selected-' + data.selectedLang.toLowerCase()\n\t\t});\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/tracking.js","export default function wikiaJWPlayerHandleTabNotActive(playerInstance, willAutoplay) {\n\tfunction canPlayVideo(willAutoplay) {\n\t\treturn !document.hidden && willAutoplay && (['playing', 'paused', 'complete'].indexOf(playerInstance.getState()) === -1 || pausedOnRelated);\n\t}\n\n\tlet pausedOnRelated = false;\n\n\tdocument.addEventListener('visibilitychange', function () {\n\t\tif (canPlayVideo(willAutoplay)) {\n\t\t\tplayerInstance.play(true);\n\t\t\tpausedOnRelated = false;\n\t\t}\n\t}, false);\n\n\tplayerInstance.on('relatedVideoPlay', function () {\n\t\tif (document.hidden) {\n\t\t\tplayerInstance.pause();\n\t\t\tpausedOnRelated = true;\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/tab-active.js","export default function wikiaJWPlayerLogger(options) {\n\tvar servicesDomain = options.servicesDomain || 'services.wikia.com',\n\t\tloggerPath = '/event-logger/error',\n\t\tloggerUrl = 'https://' + servicesDomain + loggerPath,\n\t\tprefix = 'JWPlayer',\n\t\tlogLevels = {\n\t\t\tinfo: 1,\n\t\t\twarn: 2,\n\t\t\terror: 3,\n\t\t\toff: 4\n\t\t},\n\t\tloggerOptions = options.logger || {},\n\t\tlogLevel = loggerOptions.logLevel ? logLevels[loggerOptions.logLevel] : logLevels['error'],\n\t\tclientName = loggerOptions.clientName;\n\n\t/**\n\t * logs errors to event-logger service\n\t *\n\t * @param name\n\t * @param description\n\t */\n\tfunction logErrorToService(name, description) {\n\t\tvar request = new XMLHttpRequest(),\n\t\t\tdata = {\n\t\t\t\tname: prefix + ' ' + name\n\t\t\t};\n\n\t\tif (description) {\n\t\t\tdata.description = typeof description === 'string' ? description : JSON.stringify(description);\n\t\t}\n\n\t\tif (clientName) {\n\t\t\tdata.client = clientName;\n\t\t}\n\n\t\trequest.open('POST', loggerUrl, true);\n\t\trequest.setRequestHeader('Content-type', 'application/json');\n\n\t\trequest.send(JSON.stringify(data));\n\t}\n\n\n\tfunction info(name, description) {\n\t\tif (logLevel <= logLevels['info']) {\n\t\t\tconsole.info(prefix, name, description);\n\t\t}\n\t}\n\n\tfunction warn(name, description) {\n\t\tif (logLevel <= logLevels['warn']) {\n\t\t\tconsole.warn(prefix, name, description);\n\t\t}\n\t}\n\n\tfunction error(name, description) {\n\t\tif (logLevel <= logLevels['error']) {\n\t\t\tconsole.error(prefix, name, description);\n\t\t\tlogErrorToService(name, description);\n\t\t}\n\t}\n\n\t/**\n\t * subscribes to jwplayer errors\n\t *\n\t * @param playerInstance\n\t */\n\tfunction subscribeToPlayerErrors(playerInstance) {\n\t\tplayerInstance.on('setupError', function (err) {\n\t\t\terror('setupError', err);\n\t\t});\n\n\t\tplayerInstance.on('error', function (err) {\n\t\t\terror('error', err);\n\t\t});\n\t}\n\n\treturn {\n\t\tinfo: info,\n\t\twarn: warn,\n\t\terror: error,\n\t\tsubscribeToPlayerErrors: subscribeToPlayerErrors\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/logger.js","import wikiaJWPlayerIcons from './icons';\nimport { createSVG, hideElement, showElement, createArrowIcon, createToggle, clearListElement } from \"./DOMHelpers\";\n\nconst isActiveClass = 'is-active';\n\nexport default function wikiaJWPlayerSettingsPlugin(player, config, div) {\n\tthis.player = player;\n\tthis.container = div;\n\tthis.wikiaSettingsElement = document.createElement('div');\n\tthis.buttonID = 'wikiaSettings';\n\tthis.config = config;\n\tthis.documentClickHandler = this.documentClickHandler.bind(this);\n\n\tthis.container.classList.add('wikia-jw-settings__plugin');\n\tthis.wikiaSettingsElement.classList.add('wikia-jw-settings');\n\tthis.addSettingsContent(this.wikiaSettingsElement);\n\tthis.container.appendChild(this.wikiaSettingsElement);\n\n\tthis.player.on('levels', this.onQualityLevelsChange.bind(this));\n\tthis.player.on('captionsList', this.onCaptionsChange.bind(this));\n\n\tdocument.addEventListener('click', this.documentClickHandler);\n\t// fixes issue when opening the menu on iPhone 5, executing documentClickHandler twice doesn't break anything\n\tdocument.addEventListener('touchend', this.documentClickHandler);\n}\n\nwikiaJWPlayerSettingsPlugin.prototype.isSettingsMenuOrSettingsButton = function (element) {\n\tconst button = this.getSettingsButtonElement();\n\n\treturn button && (button === element ||\n\t\tbutton.contains(element) ||\n\t\tthis.wikiaSettingsElement === element ||\n\t\tthis.wikiaSettingsElement.contains(element));\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.getSettingsButtonElement = function () {\n\treturn this.player.getContainer().querySelector('[button=' + this.buttonID + ']');\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.documentClickHandler = function (event) {\n\t// check if user didn't click the settings menu or settings button and if settings menu is open\n\tif (!this.isSettingsMenuOrSettingsButton(event.target) && this.container.style.display) {\n\t\tthis.close();\n\t}\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.addButton = function () {\n\tconst settingsIcon = createSVG(wikiaJWPlayerIcons.settings);\n\tsettingsIcon.classList.add('jw-svg-icon');\n\tsettingsIcon.classList.add('jw-svg-icon-wikia-settings');\n\n\tthis.player.addButton(settingsIcon.outerHTML, this.config.i18n.settings, function () {\n\t\tif (!this.wikiaSettingsElement.style.display) {\n\t\t\tthis.open();\n\t\t} else {\n\t\t\tthis.close();\n\t\t}\n\t}.bind(this), this.buttonID, 'wikia-jw-settings-button');\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.removeButton = function () {\n\tthis.player.removeButton(this.buttonID);\n};\n\n/**\n * closes settings menu\n */\nwikiaJWPlayerSettingsPlugin.prototype.close = function () {\n\tthis.showSettingsList();\n\tthis.container.style.display = null;\n\tthis.player.getContainer().classList.remove('wikia-jw-settings-open');\n};\n\n/**\n * opens settings menu\n */\nwikiaJWPlayerSettingsPlugin.prototype.open = function () {\n\tshowElement(this.container);\n\tthis.player.getContainer().classList.add('wikia-jw-settings-open');\n};\n\n/**\n * hides the entire plugin (button and settings menu)\n */\nwikiaJWPlayerSettingsPlugin.prototype.hide = function () {\n\tthis.close();\n\tthis.removeButton();\n};\n\n/**\n * shows back the entire plugin (adds button back)\n */\nwikiaJWPlayerSettingsPlugin.prototype.show = function () {\n\tif (!this.getSettingsButtonElement()) {\n\t\tthis.addButton();\n\t}\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.showSettingsList = function () {\n\tshowElement(this.settingsList);\n\thideElement(this.qualityLevelsList);\n\thideElement(this.captionsList);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.addSettingsContent = function (div) {\n\tdiv.classList.add('wikia-jw-settings');\n\tdiv.classList.remove('jw-reset');\n\tdiv.classList.remove('jw-plugin');\n\tthis.settingsList = this.createSettingsListElement();\n\tdiv.appendChild(this.settingsList);\n\n\tif (this.config.showQuality) {\n\t\tthis.createQualityLevelsList();\n\t\tdiv.appendChild(this.qualityLevelsList);\n\t}\n\n\tif (this.config.showCaptions) {\n\t\tthis.createCaptionsList();\n\t\tdiv.appendChild(this.captionsList);\n\t}\n\n\treturn div;\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createSettingsListElement = function () {\n\tvar settingsList = document.createElement('ul');\n\n\tsettingsList.className = 'wikia-jw-settings__list wds-list';\n\n\tif (this.config.showQuality) {\n\t\tsettingsList.appendChild(this.createQualityButton());\n\t}\n\n\tif (this.config.showCaptions) {\n\t\tsettingsList.appendChild(this.createCaptionsButton());\n\t}\n\n\tif (this.config.showAutoplayToggle) {\n\t\tsettingsList.appendChild(this.createAutoplayToggle());\n\t\tthis.show();\n\t}\n\n\treturn settingsList;\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createSubmenuWrapper = function () {\n\tvar backElement = document.createElement('li'),\n\t\tsubmenuWrapper = document.createElement('ul');\n\n\tbackElement.className = 'wikia-jw-settings__back';\n\tbackElement.innerHTML = createArrowIcon('left').outerHTML + ' ' + this.config.i18n.back;\n\tbackElement.addEventListener('click', this.showSettingsList.bind(this));\n\n\tsubmenuWrapper.className = 'wikia-jw-settings__submenu wds-list';\n\tsubmenuWrapper.appendChild(backElement);\n\n\treturn submenuWrapper;\n};\n\n// autoplay button specific methods\nwikiaJWPlayerSettingsPlugin.prototype.createAutoplayToggle = function () {\n\tconst autoplayToggle = createToggle({\n\t\tid: this.player.getContainer().id + '-videoAutoplayToggle',\n\t\tlabel: this.config.i18n.autoplayVideos,\n\t\tchecked: this.config.autoplay\n\t});\n\n\tautoplayToggle.querySelector('label')\n\t\t.addEventListener('click', function (event) {\n\t\t\tthis.player.trigger('autoplayToggle', {\n\t\t\t\tenabled: !event.target.previousSibling.checked\n\t\t\t});\n\t\t}.bind(this));\n\n\treturn autoplayToggle;\n};\n// end autoplay\n\n// quality button specific methods\nwikiaJWPlayerSettingsPlugin.prototype.createQualityButton = function () {\n\tconst qualityElement = document.createElement('li');\n\n\tqualityElement.className = 'wikia-jw-settings__quality-button';\n\tqualityElement.innerHTML = this.config.i18n.videoQuality + createArrowIcon('right').outerHTML;\n\tqualityElement.addEventListener('click', function () {\n\t\thideElement(this.settingsList);\n\t\tshowElement(this.qualityLevelsList);\n\t}.bind(this));\n\n\treturn qualityElement;\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createQualityLevelsList = function () {\n\tthis.qualityLevelsList = this.createSubmenuWrapper();\n\n\tthis.player.on('levelsChanged', this.updateCurrentQuality.bind(this));\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.onQualityLevelsChange = function (data) {\n\t// in Safari in data.levels array there is one element with label = '0'\n\tconst isQualityListEmpty = !data.levels.length || (data.levels.length === 1 && data.levels[0].label === '0'),\n\t\tshouldShowSettingsButton = (!isQualityListEmpty && this.config.showQuality) || this.config.showAutoplayToggle,\n\t\tisQualityListEmptyClass = 'is-quality-list-empty';\n\n\tif (isQualityListEmpty) {\n\t\tthis.wikiaSettingsElement.classList.add(isQualityListEmptyClass)\n\t} else {\n\t\tthis.wikiaSettingsElement.classList.remove(isQualityListEmptyClass)\n\t}\n\n\tif (shouldShowSettingsButton) {\n\t\tthis.show();\n\t}\n\n\tif (this.qualityLevelsList) {\n\t\tthis.updateQualityLevelsList(data.levels);\n\t}\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.updateQualityLevelsList = function (newLevels) {\n\tclearListElement(this.qualityLevelsList);\n\n\tnewLevels.forEach(function (level, index) {\n\t\tconst qualityLevelItem = document.createElement('li');\n\n\t\tqualityLevelItem.addEventListener('click', function () {\n\t\t\tthis.player.setCurrentQuality(index);\n\t\t\tthis.close();\n\t\t}.bind(this));\n\n\t\tif (this.player.getCurrentQuality() === index) {\n\t\t\tqualityLevelItem.classList.add(isActiveClass);\n\t\t}\n\n\t\tqualityLevelItem.appendChild(document.createTextNode(level.label));\n\t\tthis.qualityLevelsList.insertBefore(qualityLevelItem, this.qualityLevelsList.lastElementChild);\n\t}, this);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.updateCurrentQuality = function (data) {\n\tfor (let i = 0; i < this.qualityLevelsList.childNodes.length; i++) {\n\t\tconst node = this.qualityLevelsList.childNodes[i];\n\n\t\tif (data.currentQuality === i) {\n\t\t\tnode.classList.add(isActiveClass);\n\t\t} else {\n\t\t\tnode.classList.remove(isActiveClass);\n\t\t}\n\t}\n};\n// end quality\n\n// captions button specific methods\nwikiaJWPlayerSettingsPlugin.prototype.onCaptionsChange = function (event) {\n\tconst emptyCaptionsClass = 'are-captions-empty',\n\t\tsuitableCaptionsTrack = this.getSuitableCaptionsIndex(\n\t\t\tthis.config.selectedCaptionsLanguage || this.captionLangMap[this.getUserLang()],\n\t\t\tevent.tracks\n\t\t);\n\n\tclearListElement(this.captionsList);\n\n\t// tracks always include \"off\" item\n\tif (this.captionsList && event.tracks.length > 1) {\n\t\tevent.tracks.forEach(this.createCaptionsListItem, this);\n\n\t\tthis.wikiaSettingsElement.classList.remove(emptyCaptionsClass);\n\t\tthis.show();\n\n\t\t// 'false' is used specifically to turn captions off\n\t\tif (this.config.selectedCaptionsLanguage !== false && suitableCaptionsTrack !== -1) {\n\t\t\tthis.player.setCurrentCaptions(suitableCaptionsTrack);\n\t\t} else {\n\t\t\t// \"off\" track is always the first one\n\t\t\tthis.player.setCurrentCaptions(0);\n\t\t}\n\t} else {\n\t\tthis.wikiaSettingsElement.classList.add(emptyCaptionsClass);\n\t}\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createCaptionsList = function () {\n\tthis.captionsList = this.createSubmenuWrapper();\n\n\tthis.player.on('captionsChanged', this.updateCurrentCaptions.bind(this))\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createCaptionsListItem = function (track, index) {\n\tconst captionItem = document.createElement('li'),\n\t\tnormalizedLabel = track.label === 'Off' ? 'No captions' : track.label;\n\n\tcaptionItem.dataset.track = index;\n\tcaptionItem.addEventListener('click', function () {\n\t\tthis.player.setCurrentCaptions(index);\n\t\tthis.close();\n\t\tthis.player.trigger('captionsSelected', {\n\t\t\tselectedLang: track.label\n\t\t});\n\t}.bind(this));\n\n\tcaptionItem.appendChild(document.createTextNode(normalizedLabel));\n\tthis.captionsList.insertBefore(captionItem, this.captionsList.firstElementChild);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.createCaptionsButton = function () {\n\tconst captionsButton = document.createElement('li');\n\n\tcaptionsButton.className = 'wikia-jw-settings__captions-button';\n\tcaptionsButton.innerHTML = this.config.i18n.captions + createArrowIcon('right').outerHTML;\n\n\tcaptionsButton.addEventListener('click', function () {\n\t\thideElement(this.settingsList);\n\t\tshowElement(this.captionsList);\n\t}.bind(this));\n\n\treturn captionsButton;\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.getUserLang = function() {\n\treturn (window.navigator.userLanguage || window.navigator.language).slice(0, 2);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.getSuitableCaptionsIndex = function(userLang, captionTracks) {\n\t// use findIndex when ES6+ will be available\n\treturn captionTracks\n\t\t.map(function (track) {\n\t\t\treturn track.label;\n\t\t})\n\t\t.indexOf(userLang);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.updateCurrentCaptions = function (data) {\n\tfor (let i = 0; i < this.captionsList.childNodes.length; i++) {\n\t\tthis.captionsList.childNodes[i].classList.remove(isActiveClass);\n\t}\n\n\tthis.captionsList.querySelector('[data-track=\"' + data.track + '\"]').classList.add(isActiveClass);\n};\n\nwikiaJWPlayerSettingsPlugin.prototype.captionLangMap = {\n\ten: 'English',\n\tpl: 'Polish',\n\tfr: 'French',\n\tde: 'German',\n\tit: 'Italian',\n\tja: 'Japanese',\n\tpt: 'Portuguese',\n\tru: 'Russian',\n\tes: 'Spanish',\n\tzh: 'Chinese'\n};\n// end captions\n\nwikiaJWPlayerSettingsPlugin.register = function () {\n\tjwplayer().registerPlugin('wikiaSettings', '8.0.0', wikiaJWPlayerSettingsPlugin);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/settings.plugin.js","export default function wikiaJWPlayerAllowControllOnTouchDevices(playerInstance) {\n\tplayerInstance.on('playerStart', function () {\n\t\tconst unmuteIcon = document.querySelector('.jw-autostart-mute');\n\n\t\tif (unmuteIcon) {\n\t\t\tplayerInstance.getContainer().classList.remove('jw-flag-autostart');\n\t\t\tunmuteIcon.style.display = 'none';\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/allow-control-on-touch.js","import Annotation from './Annotations';\nimport Comment from './Comments';\nimport AnnotationStream from './AnnotationStream';\n\nconst commentMock = [\n\t{\n\t\ttext: 'My 1st comment',\n\t\tcreatedBy: { username: \"Ciastek\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png'},\n\t\tdisplayAt: 2\n\t},\n\t{\n\t\ttext: 'My 2nd comment',\n\t\tcreatedBy: { username: \"Krzyś\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png'},\n\t\tdisplayAt: 4\n\t},\n\t{\n\t\ttext: 'My 3rd comment',\n\t\tcreatedBy: { username: \"Krzyś\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png'},\n\t\tdisplayAt: 8\n\t}\n];\n\nconst annotationMock = [\n\t{\n\t\ttext: 'My 1st annotation',\n\t\tcreatedBy: { username: \"Barti\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png'},\n\t\tlinksTo: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png',\n\t\tdisplayAt: 1\n\t},\n\t{\n\t\ttext: 'My 2nd annotation',\n\t\tcreatedBy: { username: \"Ciastek\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png'},\n\t\tlinksTo: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png',\n\t\tdisplayAt: 3\n\t},\n\t{\n\t\ttext: 'My 3rd annotation',\n\t\tcreatedBy: { username: \"Ciastek\", avatarUrl: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png'},\n\t\tlinksTo: 'https://www.shareicon.net/data/2016/08/05/806962_user_512x512.png',\n\t\tdisplayAt: 7.5\n\t}\n];\n\n\nexport default function wikiaJWPlayerAnnotation(playerInstance, options = {}) {\n\tnew AnnotationStream(playerInstance, { amount: 3 })\n\t\t.add(annotationMock.map((el) => new Annotation({ item: el, playerInstance })))\n\t\t.add(commentMock.map((el) => new Comment({ item: el, playerInstance })));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/annotation/index.js","import Base from './Base';\nimport { stringToHtml } from \"./utils\";\n\nexport default class Annotation extends Base {\n\tconstructor() {\n\t\tsuper(...arguments);\n\t}\n\n\tcreateElement({ text, linksTo }) {\n\t\tconst domString = `\n\t\t\t\t<div class=\"wikia-annotation wikia-annotation--annotation\">\n\t\t\t\t\t<a href=\"${linksTo}\" class=\"wikia-annotation__text\">\n\t\t\t\t\t\t${text}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\treturn stringToHtml(domString);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/annotation/Annotations.js","import Base from './Base';\nimport { stringToHtml } from \"./utils\";\n\nexport default class Comment extends Base {\n\tconstructor() {\n\t\tsuper(...arguments);\n\t}\n\n\tcreateElement({ text, createdBy }) {\n\t\tconst domString = `\n\t\t\t\t<div class=\"wikia-annotation wikia-annotation--comment\">\n\t\t\t\t\t<div class=\"wikia-annotation__author\">\n\t\t\t\t\t\t<div class=\"wikia-annotation__avatar\">\n\t\t\t\t\t\t\t<img src=\"${createdBy.avatarUrl}\" alt=\"\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"wikia-annotation__user\">\n\t\t\t\t\t\t\t${createdBy.username}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"wikia-annotation__text\">\n\t\t\t\t\t\t${text}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\treturn stringToHtml(domString);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/annotation/Comments.js","import { stringToHtml } from \"./utils\";\n\nexport default class AnnotationStream {\n\tconstructor(playerInstance, options = {}) {\n\t\tthis.list = [];\n\t\tthis.playerInstance = playerInstance;\n\t\tthis.currentlyVisibleAnnotations = [];\n\t\tthis.wrapper = this.createWrapper();\n\t\tthis.options = Object.assign({}, {amount: 2, delay: 5000}, options);\n\n\t\tthis.attachListeners();\n\t}\n\n\tattachListeners() {\n\t\tthis.playerInstance.on('time', ({ position }) => {\n\t\t\tconst nextAnnotation = this.findLastSuitableElement(position);\n\t\t\t\n\t\t\tif (nextAnnotation && !this.currentlyVisibleAnnotations.includes(nextAnnotation)) {\n\t\t\t\tthis.manageElements(nextAnnotation);\n\t\t\t}\n\t\t});\n\n\t\tthis.playerInstance.on('ready', () => this.attachWrapper());\n\t}\n\n\tcreateWrapper() {\n\t\treturn stringToHtml(`<div class=\"wikia-annotation__wrapper\"></div>`);\n\t}\n\n\tattachWrapper() {\n\t\tthis.playerInstance.getContainer().appendChild(this.wrapper);\n\t}\n\n\tadd(items) {\n\t\tthis.list = [...this.list, ...items].sort((a, b) => a.displayAt > b.displayAt);\n\n\t\treturn this;\n\t}\n\n\tfindLastSuitableElement(position) {\n\t\tconst available = this.list.filter((annotation) => annotation.displayAt < position);\n\n\t\treturn available[available.length - 1];\n\t}\n\n\tmanageElements(nextAnnotation) {\n\t\tif (nextAnnotation.isDisplayed() || this.currentlyVisibleAnnotations.length >= this.options.amount) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentlyVisibleAnnotations = [ ...this.currentlyVisibleAnnotations, nextAnnotation ];\n\n\t\tthis.wrapper.prepend(nextAnnotation.element);\n\n\t\tsetTimeout(() => nextAnnotation.show(), 0);\n\n\t\tthis.removeWithDelay(nextAnnotation);\n\t}\n\n\tremoveWithDelay() {\n\t\tsetTimeout(() => {\n\t\t\tconst first = this.currentlyVisibleAnnotations.shift();\n\n\t\t\tif (first) {\n\t\t\t\tfirst.hide();\n\t\t\t}\n\n\t\t}, this.options.delay);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/annotation/AnnotationStream.js","import de from './de/main.json';\nimport en from './en/main.json';\nimport es from './es/main.json';\nimport fr from './fr/main.json';\nimport it from './it/main.json';\nimport ja from './ja/main.json';\nimport pl from './pl/main.json';\nimport pt from './pt/main.json';\nimport ru from './ru/main.json';\nimport zh from './zh/main.json';\nimport zhHans from './zh-hans/main.json';\n\nexport default {\n\tde,\n\ten,\n\tes,\n\tfr,\n\tit,\n\tja,\n\tpl,\n\tpt,\n\tru,\n\tzh,\n\t'zh-hans': zhHans\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/locales/i18n.js","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/de/main.json\n// module id = 19\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/en/main.json\n// module id = 20\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/es/main.json\n// module id = 21\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/fr/main.json\n// module id = 22\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/it/main.json\n// module id = 23\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/ja/main.json\n// module id = 24\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Pełny ekran\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/pl/main.json\n// module id = 25\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/pt/main.json\n// module id = 26\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/ru/main.json\n// module id = 27\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/zh/main.json\n// module id = 28\n// module chunks = 0","module.exports = {\"admessage\":\"The ad will end in xx seconds\",\"autoplayVideos\":\"Autoplay Videos\",\"back\":\"Back\",\"captions\":\"Captions\",\"close\":\"Close\",\"cuetext\":\"Advertisement\",\"fullscreen\":\"Fullscreen\",\"next\":\"Next\",\"nextUp\":\"Next Up\",\"nextUpInSeconds\":\"Next up in xx\",\"pause\":\"Pause\",\"play\":\"Play\",\"playback\":\"Start playback\",\"player\":\"Video Player\",\"prev\":\"Previous\",\"replay\":\"Replay\",\"settings\":\"Settings\",\"skipmessage\":\"Skip ad in xx\",\"skiptext\":\"Skip\",\"videoQuality\":\"Video Quality\",\"volume\":\"Volume\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/locales/zh-hans/main.json\n// module id = 29\n// module chunks = 0"],"sourceRoot":""}