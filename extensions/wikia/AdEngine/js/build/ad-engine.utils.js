define("ad-engine.utils",[],function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,n){"use strict";function a(e,t,n){u[e]&&u[e].forEach(function(e){e(t,n)})}function i(e,t,n){var i="";t.forEach(function(t){i+=(""===i?"":".")+t,a(i,e,n)})}function o(e,t){for(var n=e.split("."),a=n.length,o=r,u=null,s=0;s<a;s+=1)u=n[s],s<a-1&&(o[u]=o[u]||{},o=o[u]);return void 0!==t&&(o[u]=t,i(e,n,t)),o[u]}Object.defineProperty(t,"__esModule",{value:!0});var r={adUnitId:"",events:{},options:{customAdLoader:{globalMethodName:"loadCustomAd"},video:{moatTracking:{enabled:!0,sampling:1}}},slots:{},src:"gpt",state:{adStack:[],isMobile:!1},targeting:{},vast:{size:[640,480],adUnitId:""}},u={};t.__useDefault=!0;t.default={extend:function(e){Object.assign(r,e)},set:function(e,t){o(e,t)},get:function(e){return o(e)},onChange:function(e,t){u[e]=u[e]||[],u[e].push(t)}}},function(e,t,n){"use strict";function a(e){if(""!==r&&("1"===r||-1!==u.indexOf(e))){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];window.console.info(e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.logger=a;var i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(i),r=o.default.get("adengine_debug")||"",u=r.split(",");""!==r&&window.console.info("AdEngine debug mode - groups:","1"===r?"all":u)},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=l.getBySlotName(e);s[e]=t,n&&(t?n.enable():n.disable())}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r={},u={},s={},l=function(){function e(){a(this,e)}return o(e,null,[{key:"add",value:function(e){var t=e.getSlotName();u[e.getId()]=e,r[t]=e.getId(),!1===s[t]&&e.disable(),!0===s[t]&&e.enable()}},{key:"get",value:function(e){return u[e]}},{key:"getBySlotName",value:function(e){var t=r[e];return this.get(t)}},{key:"forEach",value:function(e){Object.keys(u).forEach(function(t){e(u[t])})}},{key:"enable",value:function(e){i(e,!0)}},{key:"disable",value:function(e){i(e,!1)}}]),e}();t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=a(i),r=n(2),u=a(r),s=n(1),l="slot-tweaker";t.default={forceRepaint:function(e){return e.offsetWidth},getContainer:function(e){var t=document.getElementById(e.getId());return t||(0,s.logger)(l,"cannot find container",e.getId()),t},hide:function(e){var t=this.getContainer(e);t&&((0,s.logger)(l,"hide",e.getId()),t.classList.add("hide"))},show:function(e){var t=this.getContainer(e);t&&((0,s.logger)(l,"show",e.getId()),t.classList.remove("hide"))},collapse:function(e){var t=this.getContainer(e);t.style.maxHeight=t.scrollHeight+"px",this.forceRepaint(t),t.classList.add("slot-animation"),t.style.maxHeight="0"},expand:function(e){var t=this.getContainer(e);t.style.maxHeight=t.offsetHeight+"px",t.classList.remove("hide"),t.classList.add("slot-animation"),t.style.maxHeight=t.scrollHeight+"px"},makeResponsive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.getContainer(e).classList.add("slot-responsive"),this.onReady(e).then(function(n){var a=n.parentElement;if(!t){var i=n.contentWindow.document.body.scrollHeight,o=n.contentWindow.document.body.scrollWidth;t=o/i}return(0,s.logger)(l,"make responsive",e.getId()),a.style.paddingBottom=100/t+"%",n})},onReady:function(e){var t=this.getContainer(e),n=t.querySelector('div[id*="_container_"] iframe');return new Promise(function(e,t){n||t("Cannot find iframe element"),"complete"===n.contentWindow.document.readyState?e(n):n.addEventListener("load",function(){return e(n)})})},registerMessageListener:function(){var e=this;o.default.register({keys:["action","slotName"],infinite:!0},function(t){if(!t.slotName)return void(0,s.logger)(l,"Missing slot name");var n=u.default.getBySlotName(t.slotName);switch(t.action){case"expand":e.expand(n);break;case"collapse":e.collapse(n);break;case"hide":e.hide(n);break;case"show":e.show(n);break;case"make-responsive":e.makeResponsive(n,t.aspectRatio);break;default:(0,s.logger)(l,"Unknown action",t.action)}})},setDataParam:function(e,t,n){this.getContainer(e).dataset[t]="string"==typeof n?n:JSON.stringify(n)}}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,u=e[Symbol.iterator]();!(a=(r=u.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(){a(this,e)}return o(e,null,[{key:"getValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||window.location.search.substr(1),n={},a=t.split("&");return""===a?null:(a.forEach(function(e){var t=e.split("="),a=i(t,2),o=a[0],r=a[1];r&&(n[o]=decodeURIComponent(r.replace(/\+/g," ")))}),n)}},{key:"get",value:function(t){return e.getValues()[t]}}]),e}();t.__useDefault=!0;t.default=r},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(r),s={},l=function(){function e(){a(this,e)}return i(e,null,[{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("function"!=typeof e.getName)throw new Error("Template does not implement getName method.");var n=e.getName(),a={};"function"==typeof e.getDefaultConfig&&(a=e.getDefaultConfig()),t&&(a=Object.assign(a,t)),u.default.set("templates."+n,a),s[n]=e}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,o.logger)("template-service","Load template",e,t,n),!s[e])throw new Error("Template "+e+" does not exist.");return new s[e](t).init(n)}}]),e}();t.default=l},function(e,t,n){"use strict";function a(e){var t=e.ownerDocument.defaultView,n=e,i=!1,o=0;e.classList.contains("hide")&&(i=!0,e.classList.remove("hide"));do{o+=n.offsetTop,n=n.offsetParent}while(null!==n);return i&&e.classList.add("hide"),t&&t.frameElement&&(o+=a(t.frameElement)),o}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.offsetHeight,o=a(e),r=o+i,u=window.scrollY,s=Math.max(document.documentElement.clientHeight,window.innerHeight||0),l=t+u,d=n+u+s;return o>=l-i/2&&r<=d+i/2}Object.defineProperty(t,"__esModule",{value:!0}),t.getTopOffset=a,t.isInViewport=i},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return(16777216*(1+Math.random())).toString(16).substring(1)}function o(e,t){e.push({id:t.id})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(6),s=n(11),l={},d=function(){function e(){a(this,e)}return r(e,null,[{key:"init",value:function(){document.addEventListener("scroll",(0,s.throttle)(function(e){Object.keys(l).forEach(function(t){"function"==typeof l[t]&&l[t](e,t)})},100))}},{key:"addSlot",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=document.getElementById(n);i&&e.addCallback(function(n,r){var s=window.scrollY||window.pageYOffset||document.documentElement.scrollTop,l=(0,u.getTopOffset)(i);s+Math.max(document.documentElement.clientHeight,window.innerHeight||0)>l-a&&(e.removeCallback(r),o(t,i))})}},{key:"addCallback",value:function(e){var t=i();return l[t]=e,t}},{key:"removeCallback",value:function(e){delete l[e]}}]),e}();t.default=d},function(e,t,n){"use strict";function a(e,t){if("function"!=typeof t)throw new Error("LazyQueue used with callback not being a function");if(!(e instanceof Array))throw new Error("LazyQueue requires an array as the first parameter");e.start=function(){for(;e.length>0;)t(e.shift());e.push=function(e){t(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeLazyQueue=a},function(e,t,n){"use strict";function a(e){try{return!!JSON.parse(e.data).AdEngine}catch(e){return!1}}function i(e,t){var n=!0;if(e.keys){var a=JSON.parse(t.data).AdEngine;e.keys.forEach(function(e){n=n&&a[e]})}return n}function o(e){var t=0,n=void 0;if(a(e))for((0,r.logger)(s,"Message received",e),t=0;t<u.length;t+=1)if(n=u[t],i(n.match,e))return(0,r.logger)(s,"Matching message",e,n),n.fn(JSON.parse(e.data).AdEngine),void(n.match.infinite||u.splice(t,1))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),u=[],s="message-bus";t.default={init:function(){(0,r.logger)(s,"Register message listener"),window.addEventListener("message",o)},register:function(e,t){u.push({match:e,fn:t})}}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){a(this,e)}return i(e,null,[{key:"build",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(/{(.+?)}/g);return n&&n.forEach(function(n){var a=n.replace("{","").replace("}",""),i=r.default.get(a);t[a]?e=e.replace(n,t[a]):void 0!==i&&(e=e.replace(n,i))}),e}}]),e}();t.default=u},function(e,t,n){"use strict";function a(e,t){var n=void 0,a=0,i=void 0,o=void 0;return function(){for(var r=arguments.length,u=Array(r),s=0;s<r;s++)u[s]=arguments[s];var l=Date.now(),d=t-(l-a);return n=this,o&&(clearTimeout(o),o=null),d<=0||d>t?(a=l,i=e.apply(n,u),o||(n=u=null)):o=window.setTimeout(function(){i=e.apply(n,u)},t),i}}Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=a(i),r=n(0),u=a(r);t.default={getSlotSizes:function(e){var t={};return e.getSizes().forEach(function(e){t[e.viewportSize[0]+"x"+e.viewportSize[1]]=e.sizes}),JSON.stringify(t)},updateOnCreate:function(e,t){o.default.setDataParam(e,"gptPageParams",u.default.get("targeting")),o.default.setDataParam(e,"gptSlotParams",t),o.default.setDataParam(e,"sizes",this.getSlotSizes(e))},updateOnRenderEnd:function(e,t){o.default.setDataParam(e,"gptLineItemId",t.lineItemId),o.default.setDataParam(e,"gptCreativeId",t.creativeId),o.default.setDataParam(e,"gptCreativeSize",t.size)}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=c.default.getBySlotName(e.pos),n=t?t.config.targeting:{},a=n.wsi?{wsi:n.wsi}:{},i=Object.assign({},l.default.get("targeting"),e,a);return encodeURIComponent(Object.keys(i).filter(function(e){return i[e]}).map(function(e){return e+"="+i[e]}).join("&"))}function o(e){return v.default.build(l.default.get("vast.adUnitId"),{pos:e.pos,src:e.src})}function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=["output=vast","env=vp","gdfp_req=1","impl=s","unviewed_position_start=1","iu="+o(t),"sz="+(e>1||!r(e)?"640x480":"320x480"),"url="+encodeURIComponent(window.location.href),"description_url="+encodeURIComponent(window.location.href),"correlator="+p,"cust_params="+i(t)];return n.contentSourceId&&n.videoId&&(a.push("cmsid="+n.contentSourceId),a.push("vid="+n.videoId)),void 0!==n.numberOfAds&&a.push("pmad="+n.numberOfAds),g+a.join("&")}Object.defineProperty(t,"__esModule",{value:!0}),t.build=u;var s=n(0),l=a(s),d=n(2),c=a(d),f=n(10),v=a(f),g="https://pubads.g.doubleclick.net/gampad/ads?",p=Math.round(1e10*Math.random())},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return Array.isArray(e)?e:Array.from(e)}function r(){return p.default.get("resolved_state",null)}function u(){return[!0,"true","1"].indexOf(r())>-1}function s(){return[!1,"blocked","false","0"].indexOf(r())>-1}function l(e,t){var n=t.image1,a=t.image2,i=[],o="defaultStateSrc";return e===w&&(t.aspectRatio=t.resolvedStateAspectRatio,o="resolvedStateSrc"),i.push(Promise.resolve(t)),n.element.src=n[o],i.push(Promise.race([(0,h.once)(n.element,"load"),(0,h.once)(n.element,"error")])),a&&a[o]&&(a.element.src=a[o],i.push(Promise.race([(0,h.once)(a.element,"load"),(0,h.once)(a.element,"error")]))),Promise.all(i)}function d(e){return l(b,e)}function c(e){return l(w,e)}function f(e){return!(!e.image1||!e.image1.resolvedStateSrc)}function v(e){var t=!1;if(f(e)){var n=!s(),a=!0;n&&(a=y.default.wasDefaultStateSeen()||u()),t=n&&a}return t}Object.defineProperty(t,"__esModule",{value:!0});var g=n(4),p=a(g),h=n(25),m=n(26),y=a(m),b="default",w="resolved";t.default={setImage:function(e){var t=e.getParams();return f(t)?e.isResolvedState()?c(t).then(function(t){var n=o(t),a=n[0],r=n.slice(1);return e.updateParams(a),[a].concat(i(r))}):(y.default.updateInformationAboutSeenDefaultStateAd(),d(t)):Promise.resolve()},isResolvedState:v}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=new s.default({id:"gpt-bottom-leaderboard-desktop"},"BOTTOM_LEADERBOARD");return new p.default(t).init(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initializeSlot=t.Context=t.build=void 0;var o=n(16),r=a(o),u=n(18),s=a(u),l=n(0),d=a(l),c=n(5),f=a(c),v=n(13),g=n(23),p=a(g),h=n(51),m=a(h);d.default.extend(m.default),f.default.register(p.default),new r.default(m.default).init(),t.build=v.build,t.Context=d.default,t.initializeSlot=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=new d.default(e);n.shouldLoad()&&(_.default.add(n),t.fillIn(n))}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(8),s=n(17),l=n(18),d=a(l),c=n(0),f=a(c),v=n(19),g=a(v),p=n(20),h=a(p),m=n(9),y=a(m),b=n(7),w=a(b),k=n(2),_=a(k),E=n(3),P=a(E),S=n(5),M=a(S),L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(this,e),f.default.extend(t),this.adStack=f.default.get("state.adStack"),window.ads=window.ads||{},window.ads.runtime=window.ads.runtime||{},M.default.register(g.default)}return r(e,[{key:"init",value:function(){var e=this,t=new h.default;(0,u.makeLazyQueue)(this.adStack,function(n){o(n,t),0===e.adStack.length&&t.flush()}),(0,s.registerCustomAdLoader)(f.default.get("options.customAdLoader.globalMethodName")),y.default.init(),P.default.registerMessageListener(),this.adStack.start(),w.default.init(),f.default.get("events.pushOnScroll")&&f.default.get("events.pushOnScroll.ids").forEach(function(t){w.default.addSlot(e.adStack,t,f.default.get("events.pushOnScroll.threshold"))})}}]),e}();t.default=L},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){window[e]=function(e){var t=r.default.getBySlotName(e.slotName);s.default.init(e.type,t,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.registerCustomAdLoader=i;var o=n(2),r=a(o),u=n(5),s=a(u)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),u=a(r),s=n(3),l=a(s),d=n(10),c=a(d),f=n(5),v=a(f),g=function(){function e(t,n){i(this,e);var a=t.id.split("-");if(a.length<3)throw new Error("Invalid GPT id passed to parseId ("+t.id+").");this.id=n,this.location=a[1],this.screenSize=a[3]?a[3]:"both",this.type=a[2],this.config=u.default.get("slots."+this.location+"-"+this.type),this.enabled=!this.config.disabled}return o(e,[{key:"getId",value:function(){return this.id}},{key:"getAdUnit",value:function(){return this.adUnit||(this.adUnit=c.default.build(u.default.get("adUnitId"),{slotName:this.getSlotName()})),this.adUnit}},{key:"getSlotName",value:function(){return this.config.slotName}},{key:"getSizes",value:function(){return this.config.sizes}},{key:"getTargeting",value:function(){return this.config.targeting}},{key:"getDefaultSizes",value:function(){return this.config.defaultSizes}},{key:"shouldLoad",value:function(){var e=u.default.get("state.isMobile"),t="both"===this.screenSize,n=!e&&"desktop"===this.screenSize,a=e&&"mobile"===this.screenSize;return t||n||a}},{key:"isAboveTheFold",value:function(){return!!this.config.aboveTheFold}},{key:"isEnabled",value:function(){return this.enabled}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"success",value:function(){l.default.show(this),l.default.setDataParam(this,"slotResult","success"),this.config.defaultTemplate&&v.default.init(this.config.defaultTemplate,this)}},{key:"collapse",value:function(){l.default.hide(this),l.default.setDataParam(this,"slotResult","collapse")}}]),e}();t.default=g},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(6),r=n(7),u=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(t){a(this,e),this.adSlot=t}return i(e,null,[{key:"getName",value:function(){return"floating-ad"}}]),i(e,[{key:"init",value:function(){var e=document.getElementById(this.adSlot.getId()),t=void 0,n=void 0,a=void 0,i=void 0,r=void 0,s=0;e&&e.classList.contains("floating")&&u.default.addCallback(function(){var u=window.scrollY||window.pageYOffset||document.documentElement.scrollTop;if(t=e.parentNode,n=(0,o.getTopOffset)(t),i=e.offsetHeight,a=n+t.offsetHeight-i,s=n,e.previousElementSibling&&(s=(0,o.getTopOffset)(e.previousElementSibling)+e.previousElementSibling.offsetHeight),(r=a-s)<=i)return e.classList.add("pinned-top"),void e.classList.remove("pinned-bottom");u<=s?(e.classList.add("pinned-top"),e.classList.remove("pinned-bottom")):u>=a?(e.classList.add("pinned-bottom"),e.classList.remove("pinned-top")):(e.classList.remove("pinned-top"),e.classList.remove("pinned-bottom"))})}}]),e}();t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){_=!0,window.ads.runtime.disableBtf&&m.default.forEach(function(e){e.isAboveTheFold()||m.default.disable(e.getSlotName())}),k.start()}function r(){var e=window.googletag.pubads();e.enableSingleRequest(),e.disableInitialLoad(),e.addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId(),n=m.default.get(t);!_&&n.isAboveTheFold()&&o(),setTimeout(function(){p.default.onRenderEnded(e,n)},0)}),e.addEventListener("impressionViewable",function(e){var t=e.slot.getSlotElementId(),n=m.default.get(t);p.default.onImpressionViewable(n)}),window.googletag.enableServices()}function u(e){return _||e.isAboveTheFold()?!(_&&!e.isEnabled())||((0,l.logger)(w,e.getId(),"BTF slot blocked"),!1):(k.push(e),(0,l.logger)(w,e.getId(),"BTF slot pushed to queue"),!1)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),d=n(8),c=n(21),f=n(0),v=a(f),g=n(22),p=a(g),h=n(2),m=a(h),y=n(12),b=a(y),w="gpt-provider",k=[],_=!1,E=[],P=!1,S=function(){function e(){var t=this;i(this,e),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){t.init()})}return s(e,[{key:"init",value:function(){var e=this;P||((0,c.setupGptTargeting)(),r(),(0,d.makeLazyQueue)(k,function(t){e.fillIn(t)}),P=!0)}},{key:"fillIn",value:function(e){var t=this;u(e)&&window.googletag.cmd.push(function(){var n=window.googletag.sizeMapping(),a=t.parseTargetingParams(e.getTargeting()),i=null;a.pos=e.getSlotName(),a.src=v.default.get("src"),e.getSizes().forEach(function(e){n.addSize(e.viewportSize,e.sizes)}),i=window.googletag.defineSlot(e.getAdUnit(),e.getDefaultSizes(),e.getId()).addService(window.googletag.pubads()).setCollapseEmptyDiv(!0).defineSizeMapping(n.build()),t.applyTargetingParams(i,a),b.default.updateOnCreate(e,a),window.googletag.display(e.getId()),E.push(i),_&&t.flush(),(0,l.logger)(w,e.getId(),"slot added")})}},{key:"applyTargetingParams",value:function(e,t){Object.keys(t).forEach(function(n){return e.setTargeting(n,t[n])})}},{key:"parseTargetingParams",value:function(e){var t={};return Object.keys(e).forEach(function(n){var a=e[n];"function"==typeof a&&(a=a()),t[n]=a}),t}},{key:"flush",value:function(){window.googletag.cmd.push(function(){E.length&&(window.googletag.pubads().refresh(E),E=[])})}}]),e}();t.default=S},function(e,t,n){"use strict";function a(){function e(e,n){"function"==typeof n?t.setTargeting(e,n()):t.setTargeting(e,n)}var t=window.googletag.pubads(),n=o.default.get("targeting");Object.keys(n).forEach(function(t){e(t,n[t])}),o.default.onChange("targeting",function(t,n){var a=t.split(".");e(a[a.length-1],n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.setupGptTargeting=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return document.getElementById(e.getId()).querySelector('div[id*="_container_"] iframe')}function r(e,t){var n=o(t),a=!1;if(e.isEmpty)return"collapse";try{a=!!n.contentWindow.document.querySelector}catch(e){(0,s.logger)(v,"getAdType","iframe is not accessible")}return a&&n.contentWindow.AdEngine_adType?n.contentWindow.AdEngine_adType:"success"}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),l=n(3),d=a(l),c=n(12),f=a(c),v="slot-listener",g=function(){function e(){i(this,e)}return u(e,null,[{key:"onRenderEnded",value:function(e,t){var n=r(e,t);switch((0,s.logger)(v,"onRenderEnded",t.getId(),n,e),f.default.updateOnRenderEnd(t,e),n){case"collapse":t.collapse();break;default:t.success()}}},{key:"onImpressionViewable",value:function(e){d.default.setDataParam(e,"slotViewed",!0)}}]),e}();t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(3),u=a(r),s=n(24),l=a(s),d=n(14),c=a(d),f=n(28),v=a(f),g=n(50),p=a(g),h=function(){function e(t){i(this,e),this.adSlot=t,this.container=document.getElementById(this.adSlot.getId()),this.videoSettings=null}return o(e,null,[{key:"getName",value:function(){return"bfab"}}]),o(e,[{key:"init",value:function(e){var t=this;this.params=e,this.container&&(this.container.classList.add("bfab-template"),this.videoSettings=new p.default(this.params),c.default.setImage(this.videoSettings).then(function(){return u.default.makeResponsive(t.adSlot,t.params.aspectRatio)}).then(this.adIsReady.bind(this)))}},{key:"adIsReady",value:function(){v.default.isVideoEnabled(this.params)&&(0,l.default)(v.default.loadVideoAd,this.videoSettings)}}]),e}();t.default=h},function(e,t,n){"use strict";function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if("function"!=typeof e)throw new Error("Expected a function.");return new Promise(function(t){setTimeout(function(){return t(e.apply(void 0,n))},0)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(a,i){e&&"function"==typeof e.addEventListener||i("EventTarget does not have addEventListener method"),"boolean"==typeof n&&(n={capture:n}),e.addEventListener(t,a,Object.assign({},n,{once:!0}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.once=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){return d.default.get("slots.top-leaderboard.targeting.uap")}function o(){return v+"_"+i()}function r(){return f.default.get(o())}function u(){var e=r();return!!e&&p.getTime()!==e.lastSeenDate}function s(){f.default.set(o(),{adId:i(),lastSeenDate:p.getTime()},g)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),d=a(l),c=n(27),f=a(c),v="adEngine_resolvedStateCounter",g=86400,p=new Date;t.default={updateInformationAboutSeenDefaultStateAd:s,wasDefaultStateSeen:u}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=void 0,u=function(){function e(){a(this,e)}return i(e,null,[{key:"canUseStorage",value:function(){if(void 0===r&&(r=!1,window.localStorage))try{window.localStorage.setItem("test","1"),window.localStorage.removeItem("test"),r=!0}catch(t){try{e.createPolyfill(),r=!0}catch(e){(0,o.logger)("local-cache","Local Storage polyfill error: ",e)}}return r}},{key:"createPolyfill",value:function(){(0,o.logger)("local-cache","Local Storage polyfill being created"),Storage.prototype.data={},Storage.prototype.setItem=function(e,t){this.data[e]=String(t)},Storage.prototype.getItem=function(e){return this.data[e]?this.data[e]:null},Storage.prototype.removeItem=function(e){delete this.data[e]},Storage.prototype.clear=function(){this.data={}}}},{key:"get",value:function(t){if(!e.canUseStorage())return!1;var n=window.localStorage.getItem(t);return!!n&&(n=JSON.parse(n),e.isExpired(n)?(e.delete(t),!1):n.data)}},{key:"set",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.canUseStorage()||!e.isStorable(n))return!1;var i={data:n},o=parseInt(a,10);isNaN(o)||(i.expires=1e3*o+Date.now());try{window.localStorage.setItem(t,JSON.stringify(i))}catch(e){return!1}return!0}},{key:"delete",value:function(t){e.canUseStorage()&&window.localStorage.removeItem(t)}},{key:"isStorable",value:function(e){return!("function"==typeof e||"number"==typeof e&&isNaN(e)||void 0===e)}},{key:"isExpired",value:function(e){return e.expires&&Date.now()>=parseInt(e.expires,10)}}]),e}();t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var a=n.isSplitLayout()?t.videoPlaceholderElement.offsetWidth:e.clientWidth;return{width:a,height:a/t.videoAspectRatio}}function o(e){if(e.splitLayoutVideoPosition){e.container.querySelector(".video-player").classList.add("video-player-"+e.splitLayoutVideoPosition)}}function r(e,t,n){var a=e.getParams(),i=_.default.selectTemplate(e);return a.container=t,a.autoPlay=e.isAutoPlay(),e.updateParams(a),h.default.inject(a).then(function(r){return r.container.style.position="relative",w.default.setup(r,i,{autoPlay:e.isAutoPlay(),image:n,container:t,aspectRatio:a.aspectRatio,videoAspectRatio:a.videoAspectRatio,hideWhenPlaying:a.videoPlaceholderElement||a.image,splitLayoutVideoPosition:a.splitLayoutVideoPosition}),r.addEventListener("wikiaAdCompleted",function(){r.reload()}),o(a),r})}function u(e){function t(t){return function(){var a=i(o,n,e);t.resize(a.width,a.height)}}var n=e.getParams(),a=y.default.getBySlotName(n.slotName),o=document.getElementById(a.getId()),u=o.querySelector("div:last-of-type"),l=i(o,n,e);return document.body.classList.add("vuap-loaded"),n.vastTargeting={src:n.src,pos:n.slotName,passback:d(),uap:s()},n.width=l.width,n.height=l.height,e.updateParams(n),r(e,o,u).then(function(e){return window.addEventListener("resize",(0,f.throttle)(t(e),250)),n.videoTriggerElement?n.videoTriggerElement.addEventListener("click",function(){return e.play()}):n.videoTriggers&&n.videoTriggers.forEach(function(t){t.addEventListener("click",function(){return e.play()})}),e})}function s(){return E}function l(e){E=e}function d(){return P}function c(e){P=e}Object.defineProperty(t,"__esModule",{value:!0});var f=n(11),v=n(0),g=a(v),p=n(29),h=a(p),m=n(2),y=a(m),b=n(41),w=a(b),k=n(49),_=a(k),E="none",P="uap";t.default={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="uap";this.isVideoEnabled(e)&&(n="vuap"),e.adProduct=e.adProduct||n,l(e.uap),c(e.adProduct),Object.keys(g.default.get("slots")).forEach(function(e){g.default.set("slots."+e+".targeting.uap",s())}),"abcd"!==d()&&t.forEach(function(e){y.default.enable(e)})},getType:d,getUapId:s,isVideoEnabled:function(e){return!!e.videoAspectRatio&&(e.videoTriggerElement||e.videoTriggers)},loadVideoAd:u,setType:c,setUapId:l}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=e.container.querySelector("div");return t.classList.add("video-player"),t.classList.add("hide"),t}Object.defineProperty(t,"__esModule",{value:!0}),t.PorvataPlayer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(30),s=a(u),l=n(38),d=a(l),c=n(40),f=a(c),v=t.PorvataPlayer=function(){function e(t,n){i(this,e),this.ima=t,this.container=o(n),this.mobileVideoAd=n.container.querySelector("video"),this.params=n,this.width=n.width,this.height=n.height}return r(e,[{key:"addEventListener",value:function(e,t){this.ima.addEventListener(e,t)}},{key:"getRemainingTime",value:function(){return this.ima.getAdsManager().getRemainingTime()}},{key:"isMuted",value:function(){return 0===this.ima.getAdsManager().getVolume()}},{key:"isMobilePlayerMuted",value:function(){var e=this.container.querySelector("video");return e&&e.autoplay&&e.muted}},{key:"isPaused",value:function(){return"paused"===this.ima.getStatus()}},{key:"isPlaying",value:function(){return"playing"===this.ima.getStatus()}},{key:"pause",value:function(){this.ima.getAdsManager().pause()}},{key:"play",value:function(e,t){void 0!==e&&void 0!==t&&(this.width=e,this.height=t),this.width&&this.height||(this.width=this.params.container.offsetWidth,this.height=this.params.container.offsetHeight),this.ima.playVideo(this.width,this.height)}},{key:"reload",value:function(){this.ima.reload()}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.ima.resize(this.width,this.height)}},{key:"resume",value:function(){this.ima.getAdsManager().resume()}},{key:"setVolume",value:function(e){this.updateVideoDOMElement(e),this.ima.getAdsManager().setVolume(e),this.ima.dispatchEvent("wikiaVolumeChange")}},{key:"updateVideoDOMElement",value:function(e){this.mobileVideoAd&&(this.mobileVideoAd.muted=0===e)}},{key:"mute",value:function(){this.setVolume(0)}},{key:"unmute",value:function(){this.setVolume(.75)}},{key:"volumeToggle",value:function(){this.isMuted()?this.unmute():this.mute()}},{key:"stop",value:function(){this.ima.getAdsManager().stop()}}]),e}(),g=function(){function e(){i(this,e)}return r(e,null,[{key:"addOnViewportChangeListener",value:function(e,t){return f.default.addListener(e.container,t,{offsetTop:e.viewportOffsetTop||0,offsetBottom:e.viewportOffsetBottom||0})}},{key:"inject",value:function(t){function n(e){e.addEventListener("loaded",function(){a&&e.mute()})}var a=!0,i=!1,o=!1,r=null;t.vastTargeting=t.vastTargeting||{src:t.src,pos:t.slotName,passback:"porvata"};var u=new d.default(t);return s.default.load().then(function(){return s.default.getPlayer(u)}).then(function(e){return new v(e,t)}).then(function(u){function s(e){e&&!o&&t.autoPlay?(u.play(),o=!0):e&&i?u.resume():!e&&u.isPlaying()&&(u.pause(),i=!0)}return u.addEventListener("adCanPlay",function(){u.ima.dispatchEvent("wikiaAdStarted")}),u.addEventListener("allAdsCompleted",function(){u.ima.setAutoPlay(!1),u.ima.dispatchEvent("wikiaAdCompleted"),r&&(f.default.removeListener(r),r=null),a=!1}),u.addEventListener("start",function(){u.ima.dispatchEvent("wikiaAdPlay"),r||(r=e.addOnViewportChangeListener(t,s))}),u.addEventListener("resume",function(){u.ima.dispatchEvent("wikiaAdPlay"),i=!1}),u.addEventListener("pause",function(){u.ima.dispatchEvent("wikiaAdPause")}),t.autoPlay&&n(u),t.onReady&&t.onReady(u),u.addEventListener("wikiaAdsManagerLoaded",function(){r=e.addOnViewportChangeListener(t,s)}),u})}}]),e}();t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){return window.google&&window.google.ima?new Promise(function(e){e()}):l.default.loadScript(d)}function o(e){var t=new window.google.ima.AdDisplayContainer(e.getContainer()),n=e.getContainer().querySelector("div > iframe");window.performance&&window.performance.navigation.type===window.performance.navigation.TYPE_BACK_FORWARD&&(n.contentWindow.location.href=n.src);var a=new window.google.ima.AdsLoader(t);return u.default.create(t,a,e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),u=a(r),s=n(37),l=a(s),d="//imasdk.googleapis.com/js/sdkloader/ima3.js";t.default={load:i,getPlayer:o}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=document.createElement("video");return e.setAttribute("preload","none"),e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(32),s=a(u),l=n(33),d=a(l),c=n(35),f=a(c),v=function(){function e(t,n,a){i(this,e),this.isAdsManagerLoaded=!1,this.status="",this.adDisplayContainer=t,this.adsLoader=n,this.adsManager=null,this.params=a,this.mobileVideoAd=a.container.querySelector("video"),this.eventListeners={},this.vastUrl=""}return r(e,[{key:"setVastUrl",value:function(e){this.vastUrl=e}},{key:"setAdsManager",value:function(e){this.adsManager=e,this.isAdsManagerLoaded=!0}},{key:"addEventListener",value:function(e,t){var n=this;if(-1!==e.indexOf("wikia"))return this.eventListeners[e]=this.eventListeners[e]||[],void this.eventListeners[e].push(t);this.isAdsManagerLoaded?this.adsManager.addEventListener(e,t):this.adsLoader.addEventListener("adsManagerLoaded",function(){n.adsManager.addEventListener(e,t)})}},{key:"setVastAttributes",value:function(e){var t=this.adsManager&&this.adsManager.getCurrentAd&&this.adsManager.getCurrentAd(),n=this.params.container.querySelector(".video-player");f.default.setVastAttributes(n,this.vastUrl,e,t)}},{key:"setAutoPlay",value:function(e){this.mobileVideoAd&&(this.mobileVideoAd.autoplay=e,this.mobileVideoAd.muted=e)}},{key:"playVideo",value:function(e,t){var n=this,a=function a(){n.adDisplayContainer.initialize(),n.adsManager.init(Math.round(e),Math.round(t),window.google.ima.ViewMode.NORMAL),n.adsManager.start(),n.adsLoader.removeEventListener("adsManagerLoaded",a)};this.isAdsManagerLoaded?a():(this.setAutoPlay(!0),this.adsLoader.addEventListener("adsManagerLoaded",a,!1))}},{key:"reload",value:function(){var e=s.default.createRequest(this.params);this.adsManager.destroy(),this.adsLoader.contentComplete(),this.setVastUrl(e.adTagUrl),this.adsLoader.requestAds(e)}},{key:"resize",value:function(e,t){this.adsManager&&this.adsManager.resize(Math.round(e),Math.round(t),window.google.ima.ViewMode.NORMAL)}},{key:"dispatchEvent",value:function(e){this.eventListeners[e]&&this.eventListeners[e].length>0&&this.eventListeners[e].forEach(function(e){e({})})}},{key:"setStatus",value:function(e){var t=this;return function(){t.status=e}}},{key:"getStatus",value:function(){return this.status}},{key:"getAdsManager",value:function(){return this.adsManager}}]),e}(),g=function(){function e(){i(this,e)}return r(e,null,[{key:"create",value:function(e,t,n){var a=s.default.createRequest(n.getParams()),i=new v(e,t,n.getParams()),r=o();return i.mobileVideoAd&&n.getContainer().classList.add("mobile-porvata"),t.addEventListener("adsManagerLoaded",function(e){var t=s.default.getRenderingSettings(n),a=e.getAdsManager(r,t);i.setAdsManager(a),n.isMoatTrackingEnabled()&&d.default.init(a,n.getContainer(),window.google.ima.ViewMode.NORMAL,n.get("src"),n.get("adProduct")+"/"+n.get("slotName")),i.dispatchEvent("wikiaAdsManagerLoaded"),a.addEventListener("loaded",function(){return i.setVastAttributes("success")}),a.addEventListener("adError",function(){return i.setVastAttributes("error")})},!1),t.addEventListener("adError",function(){return i.setVastAttributes("error")}),i.setVastUrl(a.adTagUrl),t.requestAds(a),n.get("autoPlay")&&i.setAutoPlay(!0),i.addEventListener("resume",i.setStatus("playing")),i.addEventListener("start",i.setStatus("playing")),i.addEventListener("pause",i.setStatus("paused")),i}}]),e}();t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){if("1"===c.default.get("porvata_override_vast")){var e=window.localStorage.getItem("porvata_vast");return(0,l.logger)(v,"Overridden VAST",e),e}return null}function o(e){var t=new window.google.ima.AdsRequest,n=i();return(e.vastResponse||n)&&(t.adsResponse=n||e.vastResponse),t.adTagUrl=e.vastUrl||(0,f.build)(e.width/e.height,e.vastTargeting),t.linearAdSlotWidth=e.width,t.linearAdSlotHeight=e.height,t}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new window.google.ima.AdsRenderingSettings;return s.default.get("state.isMobile")||(t.bitrate=68e3),t.loadVideoTimeout=e.loadVideoTimeout||15e3,t.enablePreloading=!0,t.uiElements=[],t}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),s=a(u),l=n(1),d=n(4),c=a(d),f=n(13),v="google-ima-setup";t.default={createRequest:o,getRenderingSettings:r}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(1),r=n(34),u=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(){a(this,e)}return i(e,null,[{key:"init",value:function(e,t,n,a,i){var r={partnerCode:"wikiaimajsint377461931603",viewMode:n,slicer1:a,slicer2:i};try{(0,u.default)(e,r,t),(0,o.logger)("moat-video-tracker","MOAT video tracking initialized")}catch(e){(0,o.logger)("moat-video-tracker","MOAT video tracking initalization error",e)}}}]),e}();t.default=s},function(e,t,n){"use strict";function a(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var a=document.createElement("script");if(n=n||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body,o=[],r={adsManager:e,ids:t,imaSDK:!0,events:[]},i={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"},google&&google.ima&&e){var u,s="_moatApi"+Math.floor(1e8*Math.random());for(u in google.ima.AdEvent.Type){var l=function(t){if(r.sendEvent){for(t=o.length-1;0<=t;t--)e.removeEventListener(o[t].type,o[t].func);r.sendEvent(r.events)}else r.events.push({type:i[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[u],l),o.push({type:google.ima.AdEvent.Type[u],func:l})}}var d,c,s=void 0!==s?s:"";try{d=n.ownerDocument,c=d.defaultView||d.parentWindow}catch(e){d=document,c=window}c[s]=r,a.type="text/javascript",n&&n.appendChild(a),a.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+s}Object.defineProperty(t,"__esModule",{value:!0});var i={},o=[],r={};t.default=a},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e&&n&&e.setAttribute(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(36),u=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(){a(this,e)}return o(e,null,[{key:"setVastAttributes",value:function(e,t,n,a){var o=u.default.parse(t,{imaAd:a});i(e,"data-vast-content-type",o.contentType),i(e,"data-vast-creative-id",o.creativeId),i(e,"data-vast-line-item-id",o.lineItemId),i(e,"data-vast-position",o.position),i(e,"data-vast-size",o.size),i(e,"data-vast-status",n),i(e,"data-vast-params",JSON.stringify(o.customParams))}}]),e}();t.default=s},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){a(this,e)}return i(e,null,[{key:"getAdInfo",value:function(e){var t={},n=void 0,a=void 0;return e&&(t.lineItemId=e.getAdId(),t.creativeId=e.getCreativeId(),t.contentType=e.getContentType(),a=e.getWrapperAdIds(),a.length&&(t.lineItemId=a[0]),n=e.getWrapperCreativeIds(),n.length&&(t.creativeId=n[0])),t}},{key:"parse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.getAdInfo(n.imaAd),i=r.default.getValues(t.substr(1+t.indexOf("?"))),o=r.default.getValues(i.cust_params);return{contentType:a.contentType||n.contentType,creativeId:a.creativeId||n.creativeId,customParams:o,lineItemId:a.lineItemId||n.lineItemId,position:i.vpos,size:i.sz}}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={createScript:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/javascript",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=document.createElement("script");return a=a||document.body.lastChild,i.async=n,i.type=t,i.src=e,a.parentNode.insertBefore(i,a),i},loadScript:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/javascript",n=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(o,r){var u=n.createScript(e,t,a,i);u.onload=o,u.onerror=r})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=s.default.get("options.video.moatTracking.sampling");return"boolean"==typeof e.moatTracking?e.moatTracking:!!s.default.get("options.video.moatTracking.enabled")&&(100===t||t>0&&d.default.sample("moat_video_tracking",t))}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),l=n(39),d=a(l),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.params=t,this.moatTracking=o(t)}return r(e,[{key:"get",value:function(e){return this.params[e]}},{key:"getContainer",value:function(){return this.get("container")}},{key:"getParams",value:function(){return this.params}},{key:"isMoatTrackingEnabled",value:function(){return this.moatTracking}}]),e}();t.default=c},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return-1!==(s.default.get("ignored_samplers")||"").split(",").indexOf(e)}function o(e,t){return Math.floor(Math.random()*(t-e))+e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(){function e(){a(this,e)}return r(e,null,[{key:"sample",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return!!i(e)||o(0,n)<t}}]),e}();t.default=l},function(e,t,n){"use strict";function a(e){var t=(0,s.isInViewport)(e.element);t!==e.inViewport&&(e.callback(t),e.inViewport=t)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={element:e,callback:t,offsetTop:n.offsetTop||0,offsetBottom:n.offsetBottom||0,inViewport:!1},o=function(){a(i)};return i.id=u.default.addCallback(o),o(),i.id}function o(e){u.default.removeCallback(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),u=function(e){return e&&e.__esModule?e:{default:e}}(r),s=n(6);t.default={addListener:i,removeListener:o}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){t.forEach(function(t){b[t]&&b[t].add(e,n)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),r=a(o),u=n(43),s=a(u),l=n(44),d=a(l),c=n(45),f=a(c),v=n(46),g=a(v),p=n(47),h=a(p),m=n(48),y=a(m),b={closeButton:r.default,pauseOverlay:s.default,replayOverlay:d.default,progressBar:f.default,volumeControl:y.default,toggleVideo:g.default,toggleVideoWithAnimation:h.default};t.default={setup:i}},function(e,t,n){"use strict";function a(e){var t=document.createElement("div");t.classList.add("close-ad"),t.addEventListener("click",function(t){e.stop(),t.preventDefault()}),e.container.appendChild(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={add:a}},function(e,t,n){"use strict";function a(e){var t=document.createElement("div");t.classList.add("pause-overlay"),t.addEventListener("click",function(){e.isPaused()?e.resume():e.pause()}),e.container.appendChild(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={add:a}},function(e,t,n){"use strict";function a(e,t){var n=document.createElement("div");"right"===t.splitLayoutVideoPosition?n.style.right=0:n.style.left=0,n.classList.add(r),n.addEventListener("click",function(){return e.play()}),t.autoPlay||i(n,t),e.addEventListener("wikiaAdCompleted",function(){i(n,t)}),e.container.parentElement.insertBefore(n,e.container)}function i(e,t){e.style.width=e.style.width||o(t),e.style.display="block"}function o(e){var t=e.container.offsetWidth;return 100*e.hideWhenPlaying.offsetWidth/t+"%"}Object.defineProperty(t,"__esModule",{value:!0});var r="replay-overlay";t.default={add:a}},function(e,t,n){"use strict";function a(e){var t=document.createElement("div"),n=document.createElement("div");t.classList.add("progress-bar"),n.classList.add("current-time"),t.appendChild(n),t.pause=function(){n.style.width=n.offsetWidth/t.offsetWidth*100+"%"},t.reset=function(){n.style.transitionDuration="",n.style.width="0"},t.start=function(){var t=e.getRemainingTime();t?(n.style.transitionDuration=t+"s",o.default.forceRepaint(n),n.style.width="100%"):n.style.width="0"},e.addEventListener("wikiaAdPlay",t.start),e.addEventListener("wikiaAdCompleted",t.reset),e.addEventListener("wikiaAdPause",t.pause),e.container.appendChild(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={add:a}},function(e,t,n){"use strict";function a(e){e.addEventListener("wikiaAdStarted",function(){e.container.classList.remove("hide")}),e.addEventListener("wikiaAdCompleted",function(){e.container.classList.add("hide")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default={add:a}},function(e,t,n){"use strict";function a(e,t){e.style.height=e.offsetHeight+"px",e.style.height=e.offsetWidth/t+"px",setTimeout(function(){e.style.height=""},s)}function i(e,t){t.classList.add("hide"),e.classList.remove("hide")}function o(e,t){a(t.container,t.aspectRatio),setTimeout(function(){i(t.image,e.container),t.container.classList.remove(l)},s)}function r(e,t){t.container.classList.add(l),a(t.container,t.videoAspectRatio),i(e.container,t.image)}function u(e,t){e.addEventListener("wikiaAdStarted",function(){r(e,t)}),e.addEventListener("wikiaAdCompleted",function(){o(e,t)})}Object.defineProperty(t,"__esModule",{value:!0});var s=400,l="on-animation";t.default={add:u,duration:s}},function(e,t,n){"use strict";function a(){var e=document.createElement("div"),t=document.createElement("a");return t.className="speaker",t.appendChild(document.createElement("span")),e.className="volume-button hidden",e.appendChild(t),e.speaker=t,e}function i(e,t){e.isMuted()||e.isMobilePlayerMuted()?t.speaker.classList.add("mute"):t.speaker.classList.remove("mute")}function o(e){var t=a();e.addEventListener("wikiaVolumeChange",function(){i(e,t)}),e.addEventListener("wikiaAdStarted",function(){i(e,t),t.classList.remove("hidden")}),t.addEventListener("click",function(t){e.volumeToggle(),t.preventDefault()}),e.container.appendChild(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={add:o}},function(e,t,n){"use strict";function a(e){var t=o;return!e.isAutoPlay()&&e.isSplitLayout()?t=u:e.isSplitLayout()?t=r:e.isAutoPlay()&&(t=i),t}Object.defineProperty(t,"__esModule",{value:!0});var i=["progressBar","pauseOverlay","volumeControl","toggleVideoWithAnimation"],o=["progressBar","pauseOverlay","volumeControl","closeButton","toggleVideoWithAnimation"],r=["progressBar","pauseOverlay","volumeControl","toggleVideo","replayOverlay"],u=["progressBar","pauseOverlay","volumeControl","toggleVideo","replayOverlay","closeButton"];t.default={autoPlayLayout:i,defaultLayout:o,splitLayout:r,selectTemplate:a}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(14),r=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(t){a(this,e),this.params=t,Object.defineProperty(this,"resolvedState",{value:r.default.isResolvedState(this.params),writable:!1}),Object.defineProperty(this,"autoPlay",{value:this.detectAutoPlay(),writable:!1}),Object.defineProperty(this,"splitLayout",{value:Boolean(t.splitLayoutVideoPosition),writable:!1})}return i(e,[{key:"detectAutoPlay",value:function(){var e=this.params.autoPlay&&!this.resolvedState,t=this.params.resolvedStateAutoPlay&&this.resolvedState;return Boolean(e||t)}},{key:"getParams",value:function(){return Object.assign({},this.params)}},{key:"updateParams",value:function(e){Object.assign(this.params,e)}},{key:"isAutoPlay",value:function(){return this.autoPlay}},{key:"isResolvedState",value:function(){return this.resolvedState}},{key:"isSplitLayout",value:function(){return this.splitLayout}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={adUnitId:"/5441/wka.life/_project43//{custom.namespace}/gpt/{slotName}",custom:{namespace:"article"},events:{pushOnScroll:{ids:["gpt-incontent-boxad","gpt-bottom-leaderboard"],threshold:100}},slots:{"bottom-leaderboard":{disabled:!0,slotName:"BOTTOM_LEADERBOARD",sizes:[{viewportSize:[728,0],sizes:[[728,90]]}],defaultSizes:[[2,2]],targeting:{loc:"footer"}}},vast:{adUnitId:"/5441/wka1a.{group}/{src}/desktop/oasis-fv-article/_project43-life"},targeting:{outstream:"none",s1:"_project43",uap:"none"},state:{adStack:window.adsQueue||[],isMobile:!1},options:{customAdLoader:{globalMethodName:"loadCustomAd"}}}}])});
